ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"MotorControl.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.ProcessData.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 2000     		.ascii	" \000"
  21 0002 0000     		.align	2
  22              	.LC1:
  23 0004 47302575 		.ascii	"G0%uX%fY%f \000"
  23      58256659 
  23      25662000 
  24              		.align	2
  25              	.LC2:
  26 0010 53584B70 		.ascii	"SXKp%fKi%fKd%f\000"
  26      25664B69 
  26      25664B64 
  26      256600
  27 001f 00       		.align	2
  28              	.LC3:
  29 0020 53594B70 		.ascii	"SYKp%fKi%fKd%f\000"
  29      25664B69 
  29      25664B64 
  29      256600
  30 002f 00       		.align	2
  31              	.LC4:
  32 0030 535A4B70 		.ascii	"SZKp%fKi%fKd%f\000"
  32      25664B69 
  32      25664B64 
  32      256600
  33 003f 00       		.align	2
  34              	.LC5:
  35 0040 53455825 		.ascii	"SEX%dY%dZ%d\000"
  35      64592564 
  35      5A256400 
  36              		.align	2
  37              	.LC6:
  38 004c 534F5A25 		.ascii	"SOZ%fS%f\000"
  38      66532566 
  38      00
  39 0055 000000   		.align	2
  40              	.LC7:
  41 0058 53555425 		.ascii	"SUT%fS%d\000"
  41      66532564 
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 2


  41      00
  42              		.section	.text.ProcessData,"ax",%progbits
  43              		.align	1
  44              		.global	ProcessData
  45              		.syntax unified
  46              		.thumb
  47              		.thumb_func
  49              	ProcessData:
  50              	.LVL0:
  51              	.LFB68:
  52              		.file 1 "Lib/Src/MotorControl.c"
   1:Lib/Src/MotorControl.c **** #include "MotorControl.h"
   2:Lib/Src/MotorControl.c **** #include "string.h"
   3:Lib/Src/MotorControl.c **** 
   4:Lib/Src/MotorControl.c **** void ProcessData(CNC *cnc)
   5:Lib/Src/MotorControl.c **** {
  53              		.loc 1 5 1 view -0
  54              		.cfi_startproc
  55              		@ args = 0, pretend = 0, frame = 16
  56              		@ frame_needed = 0, uses_anonymous_args = 0
  57              		.loc 1 5 1 is_stmt 0 view .LVU1
  58 0000 30B5     		push	{r4, r5, lr}
  59              	.LCFI0:
  60              		.cfi_def_cfa_offset 12
  61              		.cfi_offset 4, -12
  62              		.cfi_offset 5, -8
  63              		.cfi_offset 14, -4
  64 0002 87B0     		sub	sp, sp, #28
  65              	.LCFI1:
  66              		.cfi_def_cfa_offset 40
  67 0004 0446     		mov	r4, r0
   6:Lib/Src/MotorControl.c **** 	switch (cnc->data.ReceiveBuff[0])
  68              		.loc 1 6 2 is_stmt 1 view .LVU2
  69              		.loc 1 6 31 is_stmt 0 view .LVU3
  70 0006 90F84231 		ldrb	r3, [r0, #322]	@ zero_extendqisi2
  71              		.loc 1 6 2 view .LVU4
  72 000a 453B     		subs	r3, r3, #69
  73 000c 0E2B     		cmp	r3, #14
  74 000e 13D8     		bhi	.L2
  75 0010 DFE803F0 		tbb	[pc, r3]
  76              	.L4:
  77 0014 44       		.byte	(.L7-.L4)/2
  78 0015 12       		.byte	(.L2-.L4)/2
  79 0016 17       		.byte	(.L6-.L4)/2
  80 0017 08       		.byte	(.L5-.L4)/2
  81 0018 12       		.byte	(.L2-.L4)/2
  82 0019 12       		.byte	(.L2-.L4)/2
  83 001a 12       		.byte	(.L2-.L4)/2
  84 001b 12       		.byte	(.L2-.L4)/2
  85 001c 12       		.byte	(.L2-.L4)/2
  86 001d 12       		.byte	(.L2-.L4)/2
  87 001e 12       		.byte	(.L2-.L4)/2
  88 001f 12       		.byte	(.L2-.L4)/2
  89 0020 12       		.byte	(.L2-.L4)/2
  90 0021 12       		.byte	(.L2-.L4)/2
  91 0022 48       		.byte	(.L3-.L4)/2
  92 0023 00       		.p2align 1
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 3


  93              	.L5:
  94              	.LBB2:
   7:Lib/Src/MotorControl.c **** 	{
   8:Lib/Src/MotorControl.c **** 	case 'H':
   9:Lib/Src/MotorControl.c **** 		cnc->x_axis.home = false;
  95              		.loc 1 9 3 is_stmt 1 view .LVU5
  96              		.loc 1 9 20 is_stmt 0 view .LVU6
  97 0024 0023     		movs	r3, #0
  98 0026 80F84730 		strb	r3, [r0, #71]
  10:Lib/Src/MotorControl.c **** 		cnc->y_axis.home = false;
  99              		.loc 1 10 3 is_stmt 1 view .LVU7
 100              		.loc 1 10 20 is_stmt 0 view .LVU8
 101 002a 80F89F30 		strb	r3, [r0, #159]
  11:Lib/Src/MotorControl.c **** 		cnc->z_axis.home = false;
 102              		.loc 1 11 3 is_stmt 1 view .LVU9
 103              		.loc 1 11 20 is_stmt 0 view .LVU10
 104 002e 80F8F730 		strb	r3, [r0, #247]
  12:Lib/Src/MotorControl.c **** 		cnc->Mode = 1; // mode goto home
 105              		.loc 1 12 3 is_stmt 1 view .LVU11
 106              		.loc 1 12 13 is_stmt 0 view .LVU12
 107 0032 0123     		movs	r3, #1
 108 0034 80F80831 		strb	r3, [r0, #264]
  13:Lib/Src/MotorControl.c **** 		break;
 109              		.loc 1 13 3 is_stmt 1 view .LVU13
 110              	.LVL1:
 111              	.L2:
 112              		.loc 1 13 3 is_stmt 0 view .LVU14
 113              	.LBE2:
  14:Lib/Src/MotorControl.c **** 	case 'G':
  15:Lib/Src/MotorControl.c **** 		strcat(cnc->data.ReceiveBuff, " ");
  16:Lib/Src/MotorControl.c **** 		float x = 0, y = 0;
  17:Lib/Src/MotorControl.c **** 		int temp;
  18:Lib/Src/MotorControl.c **** 		sscanf(cnc->data.ReceiveBuff, "G0%uX%fY%f ", &temp, &x, &y);
  19:Lib/Src/MotorControl.c **** 		memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  20:Lib/Src/MotorControl.c **** 		cnc->x_axis.next = x;
  21:Lib/Src/MotorControl.c **** 		cnc->y_axis.next = y;
  22:Lib/Src/MotorControl.c **** 		cnc->data.temp = temp;
  23:Lib/Src/MotorControl.c **** 		if(cnc->data.temp == 1)
  24:Lib/Src/MotorControl.c **** 			cnc->drill.enb =true;
  25:Lib/Src/MotorControl.c **** 		else
  26:Lib/Src/MotorControl.c **** 			cnc->drill.enb = false;
  27:Lib/Src/MotorControl.c **** 		cnc->Mode = 3; // check drill
  28:Lib/Src/MotorControl.c **** 		break;	
  29:Lib/Src/MotorControl.c **** 	case 'E': //stop
  30:Lib/Src/MotorControl.c **** 		cnc->Mode = 9;
  31:Lib/Src/MotorControl.c **** 		break;
  32:Lib/Src/MotorControl.c **** 	case 'S': // setting
  33:Lib/Src/MotorControl.c **** 		if(cnc->data.ReceiveBuff[1] == 'X')
  34:Lib/Src/MotorControl.c **** 		{
  35:Lib/Src/MotorControl.c **** 			float ki, kp, kd;
  36:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SXKp%fKi%fKd%f", &kp, &ki, &kd);
  37:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  38:Lib/Src/MotorControl.c **** 			cnc->x_axis.Kp = kp;
  39:Lib/Src/MotorControl.c **** 			cnc->x_axis.Ki = ki;
  40:Lib/Src/MotorControl.c **** 			cnc->x_axis.Kd = kd;
  41:Lib/Src/MotorControl.c **** 		}
  42:Lib/Src/MotorControl.c **** 		else if(cnc->data.ReceiveBuff[1] == 'Y')
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 4


  43:Lib/Src/MotorControl.c **** 		{
  44:Lib/Src/MotorControl.c **** 			float ki, kp, kd;
  45:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SYKp%fKi%fKd%f", &kp, &ki, &kd);
  46:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  47:Lib/Src/MotorControl.c **** 			cnc->y_axis.Kp = kp;
  48:Lib/Src/MotorControl.c **** 			cnc->y_axis.Ki = ki;
  49:Lib/Src/MotorControl.c **** 			cnc->y_axis.Kd = kd;
  50:Lib/Src/MotorControl.c **** 		}
  51:Lib/Src/MotorControl.c **** 		else if(cnc->data.ReceiveBuff[1] == 'Z')
  52:Lib/Src/MotorControl.c **** 		{
  53:Lib/Src/MotorControl.c **** 			float ki, kp, kd;
  54:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SZKp%fKi%fKd%f", &kp, &ki, &kd);
  55:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  56:Lib/Src/MotorControl.c **** 			cnc->z_axis.Kp = kp;
  57:Lib/Src/MotorControl.c **** 			cnc->z_axis.Ki = ki;
  58:Lib/Src/MotorControl.c **** 			cnc->z_axis.Kd = kd;
  59:Lib/Src/MotorControl.c **** 		}
  60:Lib/Src/MotorControl.c **** 		else if(cnc->data.ReceiveBuff[1] == 'E')
  61:Lib/Src/MotorControl.c **** 		{
  62:Lib/Src/MotorControl.c **** 			uint8_t err_x, err_y, err_z;
  63:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SEX%dY%dZ%d", &err_x, &err_y, &err_z);
  64:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  65:Lib/Src/MotorControl.c **** 			cnc->x_axis.ERROR = err_x;
  66:Lib/Src/MotorControl.c **** 			cnc->y_axis.ERROR = err_y;
  67:Lib/Src/MotorControl.c **** 			cnc->z_axis.ERROR = err_z;
  68:Lib/Src/MotorControl.c **** 		}
  69:Lib/Src/MotorControl.c **** 		else if(cnc->data.ReceiveBuff[1] == 'O')
  70:Lib/Src/MotorControl.c **** 		{
  71:Lib/Src/MotorControl.c **** 			float z_max, step;
  72:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SOZ%fS%f", &z_max, &step);
  73:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  74:Lib/Src/MotorControl.c **** 			cnc->z_max = z_max;
  75:Lib/Src/MotorControl.c **** 			cnc->step = step;
  76:Lib/Src/MotorControl.c **** 		}
  77:Lib/Src/MotorControl.c **** 		else if(cnc->data.ReceiveBuff[1] == 'U')
  78:Lib/Src/MotorControl.c **** 		{
  79:Lib/Src/MotorControl.c **** 			int speed;
  80:Lib/Src/MotorControl.c **** 			float thickness;
  81:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SUT%fS%d", &thickness, &speed);
  82:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
  83:Lib/Src/MotorControl.c **** 			cnc->thickness = thickness;
  84:Lib/Src/MotorControl.c **** 			cnc->speed = speed;
  85:Lib/Src/MotorControl.c **** 		}
  86:Lib/Src/MotorControl.c **** 		cnc->Mode = 8;
  87:Lib/Src/MotorControl.c **** 		break;
  88:Lib/Src/MotorControl.c **** 	default:
  89:Lib/Src/MotorControl.c **** 		break;
  90:Lib/Src/MotorControl.c **** 	}
  91:Lib/Src/MotorControl.c **** 	cnc->data.index = 0;
 114              		.loc 1 91 2 is_stmt 1 view .LVU15
 115              		.loc 1 91 18 is_stmt 0 view .LVU16
 116 0038 0023     		movs	r3, #0
 117 003a 84F82D31 		strb	r3, [r4, #301]
  92:Lib/Src/MotorControl.c **** }
 118              		.loc 1 92 1 view .LVU17
 119 003e 07B0     		add	sp, sp, #28
 120              	.LCFI2:
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 5


 121              		.cfi_remember_state
 122              		.cfi_def_cfa_offset 12
 123              		@ sp needed
 124 0040 30BD     		pop	{r4, r5, pc}
 125              	.LVL2:
 126              	.L6:
 127              	.LCFI3:
 128              		.cfi_restore_state
 129              	.LBB9:
  15:Lib/Src/MotorControl.c **** 		float x = 0, y = 0;
 130              		.loc 1 15 3 is_stmt 1 view .LVU18
  15:Lib/Src/MotorControl.c **** 		float x = 0, y = 0;
 131              		.loc 1 15 19 is_stmt 0 view .LVU19
 132 0042 00F5A175 		add	r5, r0, #322
  15:Lib/Src/MotorControl.c **** 		float x = 0, y = 0;
 133              		.loc 1 15 3 view .LVU20
 134 0046 2846     		mov	r0, r5
 135              	.LVL3:
  15:Lib/Src/MotorControl.c **** 		float x = 0, y = 0;
 136              		.loc 1 15 3 view .LVU21
 137 0048 FFF7FEFF 		bl	strlen
 138              	.LVL4:
 139 004c 634B     		ldr	r3, .L24
 140 004e 1B88     		ldrh	r3, [r3]	@ unaligned
 141 0050 2B52     		strh	r3, [r5, r0]	@ unaligned
  16:Lib/Src/MotorControl.c **** 		int temp;
 142              		.loc 1 16 3 is_stmt 1 view .LVU22
  16:Lib/Src/MotorControl.c **** 		int temp;
 143              		.loc 1 16 9 is_stmt 0 view .LVU23
 144 0052 0023     		movs	r3, #0
 145 0054 0393     		str	r3, [sp, #12]	@ float
  16:Lib/Src/MotorControl.c **** 		int temp;
 146              		.loc 1 16 16 view .LVU24
 147 0056 0493     		str	r3, [sp, #16]	@ float
  17:Lib/Src/MotorControl.c **** 		sscanf(cnc->data.ReceiveBuff, "G0%uX%fY%f ", &temp, &x, &y);
 148              		.loc 1 17 3 is_stmt 1 view .LVU25
  18:Lib/Src/MotorControl.c **** 		memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 149              		.loc 1 18 3 view .LVU26
 150 0058 04AB     		add	r3, sp, #16
 151 005a 0093     		str	r3, [sp]
 152 005c 03AB     		add	r3, sp, #12
 153 005e 05AA     		add	r2, sp, #20
 154 0060 5F49     		ldr	r1, .L24+4
 155 0062 2846     		mov	r0, r5
 156 0064 FFF7FEFF 		bl	sscanf
 157              	.LVL5:
  19:Lib/Src/MotorControl.c **** 		cnc->x_axis.next = x;
 158              		.loc 1 19 3 view .LVU27
 159 0068 2822     		movs	r2, #40
 160 006a 0021     		movs	r1, #0
 161 006c 2846     		mov	r0, r5
 162 006e FFF7FEFF 		bl	memset
 163              	.LVL6:
  20:Lib/Src/MotorControl.c **** 		cnc->y_axis.next = y;
 164              		.loc 1 20 3 view .LVU28
  20:Lib/Src/MotorControl.c **** 		cnc->y_axis.next = y;
 165              		.loc 1 20 20 is_stmt 0 view .LVU29
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 6


 166 0072 039B     		ldr	r3, [sp, #12]	@ float
 167 0074 A364     		str	r3, [r4, #72]	@ float
  21:Lib/Src/MotorControl.c **** 		cnc->data.temp = temp;
 168              		.loc 1 21 3 is_stmt 1 view .LVU30
  21:Lib/Src/MotorControl.c **** 		cnc->data.temp = temp;
 169              		.loc 1 21 20 is_stmt 0 view .LVU31
 170 0076 049B     		ldr	r3, [sp, #16]	@ float
 171 0078 C4F8A030 		str	r3, [r4, #160]	@ float
  22:Lib/Src/MotorControl.c **** 		if(cnc->data.temp == 1)
 172              		.loc 1 22 3 is_stmt 1 view .LVU32
  22:Lib/Src/MotorControl.c **** 		if(cnc->data.temp == 1)
 173              		.loc 1 22 18 is_stmt 0 view .LVU33
 174 007c 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 175 0080 84F86A31 		strb	r3, [r4, #362]
  23:Lib/Src/MotorControl.c **** 			cnc->drill.enb =true;
 176              		.loc 1 23 3 is_stmt 1 view .LVU34
  23:Lib/Src/MotorControl.c **** 			cnc->drill.enb =true;
 177              		.loc 1 23 5 is_stmt 0 view .LVU35
 178 0084 012B     		cmp	r3, #1
 179 0086 06D0     		beq	.L17
  26:Lib/Src/MotorControl.c **** 		cnc->Mode = 3; // check drill
 180              		.loc 1 26 4 is_stmt 1 view .LVU36
  26:Lib/Src/MotorControl.c **** 		cnc->Mode = 3; // check drill
 181              		.loc 1 26 19 is_stmt 0 view .LVU37
 182 0088 0023     		movs	r3, #0
 183 008a 84F82B31 		strb	r3, [r4, #299]
 184              	.L9:
  27:Lib/Src/MotorControl.c **** 		break;	
 185              		.loc 1 27 3 is_stmt 1 view .LVU38
  27:Lib/Src/MotorControl.c **** 		break;	
 186              		.loc 1 27 13 is_stmt 0 view .LVU39
 187 008e 0323     		movs	r3, #3
 188 0090 84F80831 		strb	r3, [r4, #264]
  28:Lib/Src/MotorControl.c **** 	case 'E': //stop
 189              		.loc 1 28 3 is_stmt 1 view .LVU40
 190 0094 D0E7     		b	.L2
 191              	.L17:
  24:Lib/Src/MotorControl.c **** 		else
 192              		.loc 1 24 4 view .LVU41
  24:Lib/Src/MotorControl.c **** 		else
 193              		.loc 1 24 19 is_stmt 0 view .LVU42
 194 0096 84F82B31 		strb	r3, [r4, #299]
 195 009a F8E7     		b	.L9
 196              	.LVL7:
 197              	.L7:
  30:Lib/Src/MotorControl.c **** 		break;
 198              		.loc 1 30 3 is_stmt 1 view .LVU43
  30:Lib/Src/MotorControl.c **** 		break;
 199              		.loc 1 30 13 is_stmt 0 view .LVU44
 200 009c 0923     		movs	r3, #9
 201 009e 80F80831 		strb	r3, [r0, #264]
  31:Lib/Src/MotorControl.c **** 	case 'S': // setting
 202              		.loc 1 31 3 is_stmt 1 view .LVU45
 203 00a2 C9E7     		b	.L2
 204              	.L3:
  33:Lib/Src/MotorControl.c **** 		{
 205              		.loc 1 33 3 view .LVU46
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 7


  33:Lib/Src/MotorControl.c **** 		{
 206              		.loc 1 33 27 is_stmt 0 view .LVU47
 207 00a4 90F84331 		ldrb	r3, [r0, #323]	@ zero_extendqisi2
  33:Lib/Src/MotorControl.c **** 		{
 208              		.loc 1 33 5 view .LVU48
 209 00a8 582B     		cmp	r3, #88
 210 00aa 0DD0     		beq	.L18
  42:Lib/Src/MotorControl.c **** 		{
 211              		.loc 1 42 8 is_stmt 1 view .LVU49
  42:Lib/Src/MotorControl.c **** 		{
 212              		.loc 1 42 10 is_stmt 0 view .LVU50
 213 00ac 592B     		cmp	r3, #89
 214 00ae 21D0     		beq	.L19
  51:Lib/Src/MotorControl.c **** 		{
 215              		.loc 1 51 8 is_stmt 1 view .LVU51
  51:Lib/Src/MotorControl.c **** 		{
 216              		.loc 1 51 10 is_stmt 0 view .LVU52
 217 00b0 5A2B     		cmp	r3, #90
 218 00b2 35D0     		beq	.L20
  60:Lib/Src/MotorControl.c **** 		{
 219              		.loc 1 60 8 is_stmt 1 view .LVU53
  60:Lib/Src/MotorControl.c **** 		{
 220              		.loc 1 60 10 is_stmt 0 view .LVU54
 221 00b4 452B     		cmp	r3, #69
 222 00b6 4CD0     		beq	.L21
  69:Lib/Src/MotorControl.c **** 		{
 223              		.loc 1 69 8 is_stmt 1 view .LVU55
  69:Lib/Src/MotorControl.c **** 		{
 224              		.loc 1 69 10 is_stmt 0 view .LVU56
 225 00b8 4F2B     		cmp	r3, #79
 226 00ba 66D0     		beq	.L22
  77:Lib/Src/MotorControl.c **** 		{
 227              		.loc 1 77 8 is_stmt 1 view .LVU57
  77:Lib/Src/MotorControl.c **** 		{
 228              		.loc 1 77 10 is_stmt 0 view .LVU58
 229 00bc 552B     		cmp	r3, #85
 230 00be 78D0     		beq	.L23
 231              	.LVL8:
 232              	.L11:
  86:Lib/Src/MotorControl.c **** 		break;
 233              		.loc 1 86 3 is_stmt 1 view .LVU59
  86:Lib/Src/MotorControl.c **** 		break;
 234              		.loc 1 86 13 is_stmt 0 view .LVU60
 235 00c0 0823     		movs	r3, #8
 236 00c2 84F80831 		strb	r3, [r4, #264]
  87:Lib/Src/MotorControl.c **** 	default:
 237              		.loc 1 87 3 is_stmt 1 view .LVU61
 238 00c6 B7E7     		b	.L2
 239              	.LVL9:
 240              	.L18:
 241              	.LBB3:
  35:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SXKp%fKi%fKd%f", &kp, &ki, &kd);
 242              		.loc 1 35 4 view .LVU62
  36:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 243              		.loc 1 36 4 view .LVU63
  36:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 244              		.loc 1 36 20 is_stmt 0 view .LVU64
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 8


 245 00c8 00F5A175 		add	r5, r0, #322
  36:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 246              		.loc 1 36 4 view .LVU65
 247 00cc 05AB     		add	r3, sp, #20
 248 00ce 0093     		str	r3, [sp]
 249 00d0 03AB     		add	r3, sp, #12
 250 00d2 04AA     		add	r2, sp, #16
 251 00d4 4349     		ldr	r1, .L24+8
 252 00d6 2846     		mov	r0, r5
 253              	.LVL10:
  36:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 254              		.loc 1 36 4 view .LVU66
 255 00d8 FFF7FEFF 		bl	sscanf
 256              	.LVL11:
  37:Lib/Src/MotorControl.c **** 			cnc->x_axis.Kp = kp;
 257              		.loc 1 37 4 is_stmt 1 view .LVU67
 258 00dc 2822     		movs	r2, #40
 259 00de 0021     		movs	r1, #0
 260 00e0 2846     		mov	r0, r5
 261 00e2 FFF7FEFF 		bl	memset
 262              	.LVL12:
  38:Lib/Src/MotorControl.c **** 			cnc->x_axis.Ki = ki;
 263              		.loc 1 38 4 view .LVU68
  38:Lib/Src/MotorControl.c **** 			cnc->x_axis.Ki = ki;
 264              		.loc 1 38 19 is_stmt 0 view .LVU69
 265 00e6 049B     		ldr	r3, [sp, #16]	@ float
 266 00e8 2360     		str	r3, [r4]	@ float
  39:Lib/Src/MotorControl.c **** 			cnc->x_axis.Kd = kd;
 267              		.loc 1 39 4 is_stmt 1 view .LVU70
  39:Lib/Src/MotorControl.c **** 			cnc->x_axis.Kd = kd;
 268              		.loc 1 39 19 is_stmt 0 view .LVU71
 269 00ea 039B     		ldr	r3, [sp, #12]	@ float
 270 00ec 6360     		str	r3, [r4, #4]	@ float
  40:Lib/Src/MotorControl.c **** 		}
 271              		.loc 1 40 4 is_stmt 1 view .LVU72
  40:Lib/Src/MotorControl.c **** 		}
 272              		.loc 1 40 19 is_stmt 0 view .LVU73
 273 00ee 059B     		ldr	r3, [sp, #20]	@ float
 274 00f0 A360     		str	r3, [r4, #8]	@ float
 275              	.LBE3:
 276 00f2 E5E7     		b	.L11
 277              	.LVL13:
 278              	.L19:
 279              	.LBB4:
  44:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SYKp%fKi%fKd%f", &kp, &ki, &kd);
 280              		.loc 1 44 4 is_stmt 1 view .LVU74
  45:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 281              		.loc 1 45 4 view .LVU75
  45:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 282              		.loc 1 45 20 is_stmt 0 view .LVU76
 283 00f4 00F5A175 		add	r5, r0, #322
  45:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 284              		.loc 1 45 4 view .LVU77
 285 00f8 05AB     		add	r3, sp, #20
 286 00fa 0093     		str	r3, [sp]
 287 00fc 03AB     		add	r3, sp, #12
 288 00fe 04AA     		add	r2, sp, #16
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 9


 289 0100 3949     		ldr	r1, .L24+12
 290 0102 2846     		mov	r0, r5
 291              	.LVL14:
  45:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 292              		.loc 1 45 4 view .LVU78
 293 0104 FFF7FEFF 		bl	sscanf
 294              	.LVL15:
  46:Lib/Src/MotorControl.c **** 			cnc->y_axis.Kp = kp;
 295              		.loc 1 46 4 is_stmt 1 view .LVU79
 296 0108 2822     		movs	r2, #40
 297 010a 0021     		movs	r1, #0
 298 010c 2846     		mov	r0, r5
 299 010e FFF7FEFF 		bl	memset
 300              	.LVL16:
  47:Lib/Src/MotorControl.c **** 			cnc->y_axis.Ki = ki;
 301              		.loc 1 47 4 view .LVU80
  47:Lib/Src/MotorControl.c **** 			cnc->y_axis.Ki = ki;
 302              		.loc 1 47 19 is_stmt 0 view .LVU81
 303 0112 049B     		ldr	r3, [sp, #16]	@ float
 304 0114 A365     		str	r3, [r4, #88]	@ float
  48:Lib/Src/MotorControl.c **** 			cnc->y_axis.Kd = kd;
 305              		.loc 1 48 4 is_stmt 1 view .LVU82
  48:Lib/Src/MotorControl.c **** 			cnc->y_axis.Kd = kd;
 306              		.loc 1 48 19 is_stmt 0 view .LVU83
 307 0116 039B     		ldr	r3, [sp, #12]	@ float
 308 0118 E365     		str	r3, [r4, #92]	@ float
  49:Lib/Src/MotorControl.c **** 		}
 309              		.loc 1 49 4 is_stmt 1 view .LVU84
  49:Lib/Src/MotorControl.c **** 		}
 310              		.loc 1 49 19 is_stmt 0 view .LVU85
 311 011a 059B     		ldr	r3, [sp, #20]	@ float
 312 011c 2366     		str	r3, [r4, #96]	@ float
 313              	.LBE4:
 314 011e CFE7     		b	.L11
 315              	.LVL17:
 316              	.L20:
 317              	.LBB5:
  53:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SZKp%fKi%fKd%f", &kp, &ki, &kd);
 318              		.loc 1 53 4 is_stmt 1 view .LVU86
  54:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 319              		.loc 1 54 4 view .LVU87
  54:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 320              		.loc 1 54 20 is_stmt 0 view .LVU88
 321 0120 00F5A175 		add	r5, r0, #322
  54:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 322              		.loc 1 54 4 view .LVU89
 323 0124 05AB     		add	r3, sp, #20
 324 0126 0093     		str	r3, [sp]
 325 0128 03AB     		add	r3, sp, #12
 326 012a 04AA     		add	r2, sp, #16
 327 012c 2F49     		ldr	r1, .L24+16
 328 012e 2846     		mov	r0, r5
 329              	.LVL18:
  54:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 330              		.loc 1 54 4 view .LVU90
 331 0130 FFF7FEFF 		bl	sscanf
 332              	.LVL19:
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 10


  55:Lib/Src/MotorControl.c **** 			cnc->z_axis.Kp = kp;
 333              		.loc 1 55 4 is_stmt 1 view .LVU91
 334 0134 2822     		movs	r2, #40
 335 0136 0021     		movs	r1, #0
 336 0138 2846     		mov	r0, r5
 337 013a FFF7FEFF 		bl	memset
 338              	.LVL20:
  56:Lib/Src/MotorControl.c **** 			cnc->z_axis.Ki = ki;
 339              		.loc 1 56 4 view .LVU92
  56:Lib/Src/MotorControl.c **** 			cnc->z_axis.Ki = ki;
 340              		.loc 1 56 19 is_stmt 0 view .LVU93
 341 013e 049B     		ldr	r3, [sp, #16]	@ float
 342 0140 C4F8B030 		str	r3, [r4, #176]	@ float
  57:Lib/Src/MotorControl.c **** 			cnc->z_axis.Kd = kd;
 343              		.loc 1 57 4 is_stmt 1 view .LVU94
  57:Lib/Src/MotorControl.c **** 			cnc->z_axis.Kd = kd;
 344              		.loc 1 57 19 is_stmt 0 view .LVU95
 345 0144 039B     		ldr	r3, [sp, #12]	@ float
 346 0146 C4F8B430 		str	r3, [r4, #180]	@ float
  58:Lib/Src/MotorControl.c **** 		}
 347              		.loc 1 58 4 is_stmt 1 view .LVU96
  58:Lib/Src/MotorControl.c **** 		}
 348              		.loc 1 58 19 is_stmt 0 view .LVU97
 349 014a 059B     		ldr	r3, [sp, #20]	@ float
 350 014c C4F8B830 		str	r3, [r4, #184]	@ float
 351              	.LBE5:
 352 0150 B6E7     		b	.L11
 353              	.LVL21:
 354              	.L21:
 355              	.LBB6:
  62:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SEX%dY%dZ%d", &err_x, &err_y, &err_z);
 356              		.loc 1 62 4 is_stmt 1 view .LVU98
  63:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 357              		.loc 1 63 4 view .LVU99
  63:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 358              		.loc 1 63 20 is_stmt 0 view .LVU100
 359 0152 00F5A175 		add	r5, r0, #322
  63:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 360              		.loc 1 63 4 view .LVU101
 361 0156 05AB     		add	r3, sp, #20
 362 0158 0093     		str	r3, [sp]
 363 015a 04AB     		add	r3, sp, #16
 364 015c 03AA     		add	r2, sp, #12
 365 015e 2449     		ldr	r1, .L24+20
 366 0160 2846     		mov	r0, r5
 367              	.LVL22:
  63:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 368              		.loc 1 63 4 view .LVU102
 369 0162 FFF7FEFF 		bl	sscanf
 370              	.LVL23:
  64:Lib/Src/MotorControl.c **** 			cnc->x_axis.ERROR = err_x;
 371              		.loc 1 64 4 is_stmt 1 view .LVU103
 372 0166 2822     		movs	r2, #40
 373 0168 0021     		movs	r1, #0
 374 016a 2846     		mov	r0, r5
 375 016c FFF7FEFF 		bl	memset
 376              	.LVL24:
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 11


  65:Lib/Src/MotorControl.c **** 			cnc->y_axis.ERROR = err_y;
 377              		.loc 1 65 4 view .LVU104
  65:Lib/Src/MotorControl.c **** 			cnc->y_axis.ERROR = err_y;
 378              		.loc 1 65 22 is_stmt 0 view .LVU105
 379 0170 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 380 0174 84F85430 		strb	r3, [r4, #84]
  66:Lib/Src/MotorControl.c **** 			cnc->z_axis.ERROR = err_z;
 381              		.loc 1 66 4 is_stmt 1 view .LVU106
  66:Lib/Src/MotorControl.c **** 			cnc->z_axis.ERROR = err_z;
 382              		.loc 1 66 22 is_stmt 0 view .LVU107
 383 0178 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
 384 017c 84F8AC30 		strb	r3, [r4, #172]
  67:Lib/Src/MotorControl.c **** 		}
 385              		.loc 1 67 4 is_stmt 1 view .LVU108
  67:Lib/Src/MotorControl.c **** 		}
 386              		.loc 1 67 22 is_stmt 0 view .LVU109
 387 0180 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 388 0184 84F80431 		strb	r3, [r4, #260]
 389              	.LBE6:
 390 0188 9AE7     		b	.L11
 391              	.LVL25:
 392              	.L22:
 393              	.LBB7:
  71:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SOZ%fS%f", &z_max, &step);
 394              		.loc 1 71 4 is_stmt 1 view .LVU110
  72:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 395              		.loc 1 72 4 view .LVU111
  72:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 396              		.loc 1 72 20 is_stmt 0 view .LVU112
 397 018a 00F5A175 		add	r5, r0, #322
  72:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 398              		.loc 1 72 4 view .LVU113
 399 018e 05AB     		add	r3, sp, #20
 400 0190 04AA     		add	r2, sp, #16
 401 0192 1849     		ldr	r1, .L24+24
 402 0194 2846     		mov	r0, r5
 403              	.LVL26:
  72:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 404              		.loc 1 72 4 view .LVU114
 405 0196 FFF7FEFF 		bl	sscanf
 406              	.LVL27:
  73:Lib/Src/MotorControl.c **** 			cnc->z_max = z_max;
 407              		.loc 1 73 4 is_stmt 1 view .LVU115
 408 019a 2822     		movs	r2, #40
 409 019c 0021     		movs	r1, #0
 410 019e 2846     		mov	r0, r5
 411 01a0 FFF7FEFF 		bl	memset
 412              	.LVL28:
  74:Lib/Src/MotorControl.c **** 			cnc->step = step;
 413              		.loc 1 74 4 view .LVU116
  74:Lib/Src/MotorControl.c **** 			cnc->step = step;
 414              		.loc 1 74 15 is_stmt 0 view .LVU117
 415 01a4 049B     		ldr	r3, [sp, #16]	@ float
 416 01a6 C4F81031 		str	r3, [r4, #272]	@ float
  75:Lib/Src/MotorControl.c **** 		}
 417              		.loc 1 75 4 is_stmt 1 view .LVU118
  75:Lib/Src/MotorControl.c **** 		}
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 12


 418              		.loc 1 75 14 is_stmt 0 view .LVU119
 419 01aa 059B     		ldr	r3, [sp, #20]	@ float
 420 01ac C4F80C31 		str	r3, [r4, #268]	@ float
 421              	.LBE7:
 422 01b0 86E7     		b	.L11
 423              	.LVL29:
 424              	.L23:
 425              	.LBB8:
  79:Lib/Src/MotorControl.c **** 			float thickness;
 426              		.loc 1 79 4 is_stmt 1 view .LVU120
  80:Lib/Src/MotorControl.c **** 			sscanf(cnc->data.ReceiveBuff, "SUT%fS%d", &thickness, &speed);
 427              		.loc 1 80 4 view .LVU121
  81:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 428              		.loc 1 81 4 view .LVU122
  81:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 429              		.loc 1 81 20 is_stmt 0 view .LVU123
 430 01b2 00F5A175 		add	r5, r0, #322
  81:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 431              		.loc 1 81 4 view .LVU124
 432 01b6 04AB     		add	r3, sp, #16
 433 01b8 05AA     		add	r2, sp, #20
 434 01ba 0F49     		ldr	r1, .L24+28
 435 01bc 2846     		mov	r0, r5
 436              	.LVL30:
  81:Lib/Src/MotorControl.c **** 			memset(cnc->data.ReceiveBuff, 0, sizeof(cnc->data.ReceiveBuff));
 437              		.loc 1 81 4 view .LVU125
 438 01be FFF7FEFF 		bl	sscanf
 439              	.LVL31:
  82:Lib/Src/MotorControl.c **** 			cnc->thickness = thickness;
 440              		.loc 1 82 4 is_stmt 1 view .LVU126
 441 01c2 2822     		movs	r2, #40
 442 01c4 0021     		movs	r1, #0
 443 01c6 2846     		mov	r0, r5
 444 01c8 FFF7FEFF 		bl	memset
 445              	.LVL32:
  83:Lib/Src/MotorControl.c **** 			cnc->speed = speed;
 446              		.loc 1 83 4 view .LVU127
  83:Lib/Src/MotorControl.c **** 			cnc->speed = speed;
 447              		.loc 1 83 19 is_stmt 0 view .LVU128
 448 01cc 059B     		ldr	r3, [sp, #20]	@ float
 449 01ce C4F81431 		str	r3, [r4, #276]	@ float
  84:Lib/Src/MotorControl.c **** 		}
 450              		.loc 1 84 4 is_stmt 1 view .LVU129
  84:Lib/Src/MotorControl.c **** 		}
 451              		.loc 1 84 15 is_stmt 0 view .LVU130
 452 01d2 049B     		ldr	r3, [sp, #16]
 453 01d4 84F81831 		strb	r3, [r4, #280]
 454 01d8 72E7     		b	.L11
 455              	.L25:
 456 01da 00BF     		.align	2
 457              	.L24:
 458 01dc 00000000 		.word	.LC0
 459 01e0 04000000 		.word	.LC1
 460 01e4 10000000 		.word	.LC2
 461 01e8 20000000 		.word	.LC3
 462 01ec 30000000 		.word	.LC4
 463 01f0 40000000 		.word	.LC5
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 13


 464 01f4 4C000000 		.word	.LC6
 465 01f8 58000000 		.word	.LC7
 466              	.LBE8:
 467              	.LBE9:
 468              		.cfi_endproc
 469              	.LFE68:
 471              		.global	__aeabi_fcmpgt
 472              		.global	__aeabi_fcmpeq
 473              		.global	__aeabi_fcmplt
 474              		.global	__aeabi_fmul
 475              		.global	__aeabi_f2iz
 476              		.section	.text.PWM,"ax",%progbits
 477              		.align	1
 478              		.global	PWM
 479              		.syntax unified
 480              		.thumb
 481              		.thumb_func
 483              	PWM:
 484              	.LVL33:
 485              	.LFB69:
  93:Lib/Src/MotorControl.c **** 
  94:Lib/Src/MotorControl.c **** void PWM(AXIS *axis)
  95:Lib/Src/MotorControl.c **** {
 486              		.loc 1 95 1 is_stmt 1 view -0
 487              		.cfi_startproc
 488              		@ args = 0, pretend = 0, frame = 0
 489              		@ frame_needed = 0, uses_anonymous_args = 0
 490              		.loc 1 95 1 is_stmt 0 view .LVU132
 491 0000 38B5     		push	{r3, r4, r5, lr}
 492              	.LCFI4:
 493              		.cfi_def_cfa_offset 16
 494              		.cfi_offset 3, -16
 495              		.cfi_offset 4, -12
 496              		.cfi_offset 5, -8
 497              		.cfi_offset 14, -4
 498 0002 0446     		mov	r4, r0
  96:Lib/Src/MotorControl.c **** 	float duty = axis->pwm;
 499              		.loc 1 96 2 is_stmt 1 view .LVU133
 500              		.loc 1 96 8 is_stmt 0 view .LVU134
 501 0004 C569     		ldr	r5, [r0, #28]	@ float
 502              	.LVL34:
  97:Lib/Src/MotorControl.c **** 	if (duty > 1) duty = 1;
 503              		.loc 1 97 2 is_stmt 1 view .LVU135
 504              		.loc 1 97 5 is_stmt 0 view .LVU136
 505 0006 4FF07E51 		mov	r1, #1065353216
 506 000a 2846     		mov	r0, r5
 507              	.LVL35:
 508              		.loc 1 97 5 view .LVU137
 509 000c FFF7FEFF 		bl	__aeabi_fcmpgt
 510              	.LVL36:
 511 0010 B8B1     		cbz	r0, .L47
 512              		.loc 1 97 21 view .LVU138
 513 0012 4FF07E55 		mov	r5, #1065353216
 514              	.LVL37:
 515              	.L27:
  98:Lib/Src/MotorControl.c **** 	else if(duty ==0)  duty = 0;
  99:Lib/Src/MotorControl.c **** 	else if (duty < -1) duty = -1;
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 14


 100:Lib/Src/MotorControl.c **** 	int16_t pwm = duty*MAX_SPEED;
 516              		.loc 1 100 2 is_stmt 1 view .LVU139
 517              		.loc 1 100 20 is_stmt 0 view .LVU140
 518 0016 3E49     		ldr	r1, .L54
 519 0018 2846     		mov	r0, r5
 520 001a FFF7FEFF 		bl	__aeabi_fmul
 521              	.LVL38:
 522              		.loc 1 100 10 view .LVU141
 523 001e FFF7FEFF 		bl	__aeabi_f2iz
 524              	.LVL39:
 525 0022 00B2     		sxth	r0, r0
 526              	.LVL40:
 101:Lib/Src/MotorControl.c **** 		
 102:Lib/Src/MotorControl.c **** 	if (pwm > 0)
 527              		.loc 1 102 2 is_stmt 1 view .LVU142
 528              		.loc 1 102 5 is_stmt 0 view .LVU143
 529 0024 0028     		cmp	r0, #0
 530 0026 31DD     		ble	.L28
 103:Lib/Src/MotorControl.c **** 		{
 104:Lib/Src/MotorControl.c **** 			__HAL_TIM_SetCompare(axis->htim_motor, axis->CHANNEL, 100 - pwm);
 531              		.loc 1 104 4 is_stmt 1 view .LVU144
 532 0028 E36A     		ldr	r3, [r4, #44]
 533 002a CBB9     		cbnz	r3, .L29
 534              		.loc 1 104 4 is_stmt 0 discriminator 1 view .LVU145
 535 002c A36A     		ldr	r3, [r4, #40]
 536 002e 1B68     		ldr	r3, [r3]
 537 0030 C0F16400 		rsb	r0, r0, #100
 538              	.LVL41:
 539              		.loc 1 104 4 discriminator 1 view .LVU146
 540 0034 5863     		str	r0, [r3, #52]
 541              	.L30:
 105:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 542              		.loc 1 105 4 is_stmt 1 view .LVU147
 543 0036 0122     		movs	r2, #1
 544 0038 A18E     		ldrh	r1, [r4, #52]
 545 003a 206B     		ldr	r0, [r4, #48]
 546 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 547              	.LVL42:
 548              	.L26:
 106:Lib/Src/MotorControl.c **** 		}
 107:Lib/Src/MotorControl.c **** 	else if (pwm == 0)
 108:Lib/Src/MotorControl.c **** 		{
 109:Lib/Src/MotorControl.c **** 			__HAL_TIM_SetCompare(axis->htim_motor, axis->CHANNEL, 0);
 110:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 111:Lib/Src/MotorControl.c **** 			axis->pwm = 0;
 112:Lib/Src/MotorControl.c **** 		}
 113:Lib/Src/MotorControl.c **** 	else if (pwm < 0)
 114:Lib/Src/MotorControl.c **** 		{
 115:Lib/Src/MotorControl.c **** 			pwm *= -1;
 116:Lib/Src/MotorControl.c **** 			__HAL_TIM_SetCompare(axis->htim_motor, axis->CHANNEL, pwm);
 117:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 118:Lib/Src/MotorControl.c **** 
 119:Lib/Src/MotorControl.c **** 		}
 120:Lib/Src/MotorControl.c **** }
 549              		.loc 1 120 1 is_stmt 0 view .LVU148
 550 0040 38BD     		pop	{r3, r4, r5, pc}
 551              	.LVL43:
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 15


 552              	.L47:
  98:Lib/Src/MotorControl.c **** 	else if (duty < -1) duty = -1;
 553              		.loc 1 98 7 is_stmt 1 view .LVU149
  98:Lib/Src/MotorControl.c **** 	else if (duty < -1) duty = -1;
 554              		.loc 1 98 9 is_stmt 0 view .LVU150
 555 0042 0021     		movs	r1, #0
 556 0044 2846     		mov	r0, r5
 557 0046 FFF7FEFF 		bl	__aeabi_fcmpeq
 558              	.LVL44:
 559 004a 38B9     		cbnz	r0, .L44
  99:Lib/Src/MotorControl.c **** 	int16_t pwm = duty*MAX_SPEED;
 560              		.loc 1 99 7 is_stmt 1 view .LVU151
  99:Lib/Src/MotorControl.c **** 	int16_t pwm = duty*MAX_SPEED;
 561              		.loc 1 99 10 is_stmt 0 view .LVU152
 562 004c 3149     		ldr	r1, .L54+4
 563 004e 2846     		mov	r0, r5
 564 0050 FFF7FEFF 		bl	__aeabi_fcmplt
 565              	.LVL45:
 566 0054 0028     		cmp	r0, #0
 567 0056 DED0     		beq	.L27
  99:Lib/Src/MotorControl.c **** 	int16_t pwm = duty*MAX_SPEED;
 568              		.loc 1 99 27 view .LVU153
 569 0058 2E4D     		ldr	r5, .L54+4
 570              	.LVL46:
  99:Lib/Src/MotorControl.c **** 	int16_t pwm = duty*MAX_SPEED;
 571              		.loc 1 99 27 view .LVU154
 572 005a DCE7     		b	.L27
 573              	.LVL47:
 574              	.L44:
  98:Lib/Src/MotorControl.c **** 	else if (duty < -1) duty = -1;
 575              		.loc 1 98 26 view .LVU155
 576 005c 0025     		movs	r5, #0
 577              	.LVL48:
  98:Lib/Src/MotorControl.c **** 	else if (duty < -1) duty = -1;
 578              		.loc 1 98 26 view .LVU156
 579 005e DAE7     		b	.L27
 580              	.LVL49:
 581              	.L29:
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 582              		.loc 1 104 4 discriminator 2 view .LVU157
 583 0060 042B     		cmp	r3, #4
 584 0062 07D0     		beq	.L48
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 585              		.loc 1 104 4 discriminator 4 view .LVU158
 586 0064 082B     		cmp	r3, #8
 587 0066 0BD0     		beq	.L49
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 588              		.loc 1 104 4 discriminator 7 view .LVU159
 589 0068 A36A     		ldr	r3, [r4, #40]
 590 006a 1B68     		ldr	r3, [r3]
 591 006c C0F16400 		rsb	r0, r0, #100
 592              	.LVL50:
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 593              		.loc 1 104 4 discriminator 7 view .LVU160
 594 0070 1864     		str	r0, [r3, #64]
 595 0072 E0E7     		b	.L30
 596              	.LVL51:
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 16


 597              	.L48:
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 598              		.loc 1 104 4 discriminator 3 view .LVU161
 599 0074 A36A     		ldr	r3, [r4, #40]
 600 0076 1B68     		ldr	r3, [r3]
 601 0078 C0F16400 		rsb	r0, r0, #100
 602              	.LVL52:
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 603              		.loc 1 104 4 discriminator 3 view .LVU162
 604 007c 9863     		str	r0, [r3, #56]
 605 007e DAE7     		b	.L30
 606              	.LVL53:
 607              	.L49:
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 608              		.loc 1 104 4 discriminator 6 view .LVU163
 609 0080 A36A     		ldr	r3, [r4, #40]
 610 0082 1B68     		ldr	r3, [r3]
 611 0084 C0F16400 		rsb	r0, r0, #100
 612              	.LVL54:
 104:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_SET);
 613              		.loc 1 104 4 discriminator 6 view .LVU164
 614 0088 D863     		str	r0, [r3, #60]
 615 008a D4E7     		b	.L30
 616              	.LVL55:
 617              	.L28:
 107:Lib/Src/MotorControl.c **** 		{
 618              		.loc 1 107 7 is_stmt 1 view .LVU165
 107:Lib/Src/MotorControl.c **** 		{
 619              		.loc 1 107 10 is_stmt 0 view .LVU166
 620 008c 00BB     		cbnz	r0, .L34
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 621              		.loc 1 109 4 is_stmt 1 view .LVU167
 622 008e E36A     		ldr	r3, [r4, #44]
 623 0090 5BB9     		cbnz	r3, .L35
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 624              		.loc 1 109 4 is_stmt 0 discriminator 1 view .LVU168
 625 0092 A36A     		ldr	r3, [r4, #40]
 626 0094 1B68     		ldr	r3, [r3]
 627 0096 0022     		movs	r2, #0
 628 0098 5A63     		str	r2, [r3, #52]
 629              	.L36:
 110:Lib/Src/MotorControl.c **** 			axis->pwm = 0;
 630              		.loc 1 110 4 is_stmt 1 view .LVU169
 631 009a 0022     		movs	r2, #0
 632 009c A18E     		ldrh	r1, [r4, #52]
 633 009e 206B     		ldr	r0, [r4, #48]
 634              	.LVL56:
 110:Lib/Src/MotorControl.c **** 			axis->pwm = 0;
 635              		.loc 1 110 4 is_stmt 0 view .LVU170
 636 00a0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 637              	.LVL57:
 111:Lib/Src/MotorControl.c **** 		}
 638              		.loc 1 111 4 is_stmt 1 view .LVU171
 111:Lib/Src/MotorControl.c **** 		}
 639              		.loc 1 111 14 is_stmt 0 view .LVU172
 640 00a4 0023     		movs	r3, #0
 641 00a6 E361     		str	r3, [r4, #28]	@ float
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 17


 642 00a8 CAE7     		b	.L26
 643              	.LVL58:
 644              	.L35:
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 645              		.loc 1 109 4 discriminator 2 view .LVU173
 646 00aa 042B     		cmp	r3, #4
 647 00ac 06D0     		beq	.L50
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 648              		.loc 1 109 4 discriminator 4 view .LVU174
 649 00ae 082B     		cmp	r3, #8
 650 00b0 09D0     		beq	.L51
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 651              		.loc 1 109 4 discriminator 7 view .LVU175
 652 00b2 A36A     		ldr	r3, [r4, #40]
 653 00b4 1B68     		ldr	r3, [r3]
 654 00b6 0022     		movs	r2, #0
 655 00b8 1A64     		str	r2, [r3, #64]
 656 00ba EEE7     		b	.L36
 657              	.L50:
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 658              		.loc 1 109 4 discriminator 3 view .LVU176
 659 00bc A36A     		ldr	r3, [r4, #40]
 660 00be 1B68     		ldr	r3, [r3]
 661 00c0 0022     		movs	r2, #0
 662 00c2 9A63     		str	r2, [r3, #56]
 663 00c4 E9E7     		b	.L36
 664              	.L51:
 109:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 665              		.loc 1 109 4 discriminator 6 view .LVU177
 666 00c6 A36A     		ldr	r3, [r4, #40]
 667 00c8 1B68     		ldr	r3, [r3]
 668 00ca 0022     		movs	r2, #0
 669 00cc DA63     		str	r2, [r3, #60]
 670 00ce E4E7     		b	.L36
 671              	.L34:
 113:Lib/Src/MotorControl.c **** 		{
 672              		.loc 1 113 7 is_stmt 1 view .LVU178
 113:Lib/Src/MotorControl.c **** 		{
 673              		.loc 1 113 10 is_stmt 0 view .LVU179
 674 00d0 0028     		cmp	r0, #0
 675 00d2 B5DA     		bge	.L26
 115:Lib/Src/MotorControl.c **** 			__HAL_TIM_SetCompare(axis->htim_motor, axis->CHANNEL, pwm);
 676              		.loc 1 115 4 is_stmt 1 view .LVU180
 115:Lib/Src/MotorControl.c **** 			__HAL_TIM_SetCompare(axis->htim_motor, axis->CHANNEL, pwm);
 677              		.loc 1 115 8 is_stmt 0 view .LVU181
 678 00d4 4042     		rsbs	r0, r0, #0
 679              	.LVL59:
 115:Lib/Src/MotorControl.c **** 			__HAL_TIM_SetCompare(axis->htim_motor, axis->CHANNEL, pwm);
 680              		.loc 1 115 8 view .LVU182
 681 00d6 00B2     		sxth	r0, r0
 682              	.LVL60:
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 683              		.loc 1 116 4 is_stmt 1 view .LVU183
 684 00d8 E36A     		ldr	r3, [r4, #44]
 685 00da 43B9     		cbnz	r3, .L39
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 686              		.loc 1 116 4 is_stmt 0 discriminator 1 view .LVU184
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 18


 687 00dc A36A     		ldr	r3, [r4, #40]
 688 00de 1B68     		ldr	r3, [r3]
 689 00e0 5863     		str	r0, [r3, #52]
 690              	.L40:
 117:Lib/Src/MotorControl.c **** 
 691              		.loc 1 117 4 is_stmt 1 view .LVU185
 692 00e2 0022     		movs	r2, #0
 693 00e4 A18E     		ldrh	r1, [r4, #52]
 694 00e6 206B     		ldr	r0, [r4, #48]
 695              	.LVL61:
 117:Lib/Src/MotorControl.c **** 
 696              		.loc 1 117 4 is_stmt 0 view .LVU186
 697 00e8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 698              	.LVL62:
 699              		.loc 1 120 1 view .LVU187
 700 00ec A8E7     		b	.L26
 701              	.LVL63:
 702              	.L39:
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 703              		.loc 1 116 4 discriminator 2 view .LVU188
 704 00ee 042B     		cmp	r3, #4
 705 00f0 05D0     		beq	.L52
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 706              		.loc 1 116 4 discriminator 4 view .LVU189
 707 00f2 082B     		cmp	r3, #8
 708 00f4 07D0     		beq	.L53
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 709              		.loc 1 116 4 discriminator 7 view .LVU190
 710 00f6 A36A     		ldr	r3, [r4, #40]
 711 00f8 1B68     		ldr	r3, [r3]
 712 00fa 1864     		str	r0, [r3, #64]
 713 00fc F1E7     		b	.L40
 714              	.L52:
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 715              		.loc 1 116 4 discriminator 3 view .LVU191
 716 00fe A36A     		ldr	r3, [r4, #40]
 717 0100 1B68     		ldr	r3, [r3]
 718 0102 9863     		str	r0, [r3, #56]
 719 0104 EDE7     		b	.L40
 720              	.L53:
 116:Lib/Src/MotorControl.c **** 			HAL_GPIO_WritePin(axis->GPIO_DIR, axis->PIN_DIR, GPIO_PIN_RESET);
 721              		.loc 1 116 4 discriminator 6 view .LVU192
 722 0106 A36A     		ldr	r3, [r4, #40]
 723 0108 1B68     		ldr	r3, [r3]
 724 010a D863     		str	r0, [r3, #60]
 725 010c E9E7     		b	.L40
 726              	.L55:
 727 010e 00BF     		.align	2
 728              	.L54:
 729 0110 0000C842 		.word	1120403456
 730 0114 000080BF 		.word	-1082130432
 731              		.cfi_endproc
 732              	.LFE69:
 734              		.section	.text.readEncoder,"ax",%progbits
 735              		.align	1
 736              		.global	readEncoder
 737              		.syntax unified
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 19


 738              		.thumb
 739              		.thumb_func
 741              	readEncoder:
 742              	.LVL64:
 743              	.LFB70:
 121:Lib/Src/MotorControl.c **** 
 122:Lib/Src/MotorControl.c **** // void readEncoder(TIM_HandleTypeDef* htim, int *Pos)
 123:Lib/Src/MotorControl.c **** // {
 124:Lib/Src/MotorControl.c **** // 	//*Pos += __HAL_TIM_GET_COUNTER(htim);
 125:Lib/Src/MotorControl.c **** // 	*Pos += (int16_t)(htim->Instance->CNT);
 126:Lib/Src/MotorControl.c **** // 	htim->Instance->CNT=0;
 127:Lib/Src/MotorControl.c **** // }
 128:Lib/Src/MotorControl.c **** 
 129:Lib/Src/MotorControl.c **** void readEncoder(AXIS *axis)
 130:Lib/Src/MotorControl.c **** {
 744              		.loc 1 130 1 is_stmt 1 view -0
 745              		.cfi_startproc
 746              		@ args = 0, pretend = 0, frame = 0
 747              		@ frame_needed = 0, uses_anonymous_args = 0
 748              		@ link register save eliminated.
 131:Lib/Src/MotorControl.c **** 	// axis->pos += (int16_t)(axis->htim_enc->Instance->CNT);
 132:Lib/Src/MotorControl.c **** 	// axis->htim_enc->Instance->CNT = 0;
 133:Lib/Src/MotorControl.c **** 
 134:Lib/Src/MotorControl.c **** 	axis->pos += (int16_t)*axis->enc;
 749              		.loc 1 134 2 view .LVU194
 750              		.loc 1 134 29 is_stmt 0 view .LVU195
 751 0000 426A     		ldr	r2, [r0, #36]
 752              		.loc 1 134 15 view .LVU196
 753 0002 B2F90010 		ldrsh	r1, [r2]
 754              		.loc 1 134 12 view .LVU197
 755 0006 8369     		ldr	r3, [r0, #24]
 756 0008 0B44     		add	r3, r3, r1
 757 000a 8361     		str	r3, [r0, #24]
 135:Lib/Src/MotorControl.c **** 	*axis->enc = 0;
 758              		.loc 1 135 2 is_stmt 1 view .LVU198
 759              		.loc 1 135 13 is_stmt 0 view .LVU199
 760 000c 0023     		movs	r3, #0
 761 000e 1360     		str	r3, [r2]
 136:Lib/Src/MotorControl.c **** }
 762              		.loc 1 136 1 view .LVU200
 763 0010 7047     		bx	lr
 764              		.cfi_endproc
 765              	.LFE70:
 767              		.section	.text.sample,"ax",%progbits
 768              		.align	1
 769              		.global	sample
 770              		.syntax unified
 771              		.thumb
 772              		.thumb_func
 774              	sample:
 775              	.LVL65:
 776              	.LFB71:
 137:Lib/Src/MotorControl.c **** 
 138:Lib/Src/MotorControl.c **** void sample(AXIS * axis)
 139:Lib/Src/MotorControl.c **** {
 777              		.loc 1 139 1 is_stmt 1 view -0
 778              		.cfi_startproc
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 20


 779              		@ args = 0, pretend = 0, frame = 0
 780              		@ frame_needed = 0, uses_anonymous_args = 0
 781              		@ link register save eliminated.
 140:Lib/Src/MotorControl.c **** 	if(axis->pid_process)
 782              		.loc 1 140 2 view .LVU202
 783              		.loc 1 140 9 is_stmt 0 view .LVU203
 784 0000 90F84530 		ldrb	r3, [r0, #69]	@ zero_extendqisi2
 785              		.loc 1 140 4 view .LVU204
 786 0004 53B1     		cbz	r3, .L57
 141:Lib/Src/MotorControl.c **** 	{
 142:Lib/Src/MotorControl.c **** 		axis->time_sample++;
 787              		.loc 1 142 3 is_stmt 1 view .LVU205
 788              		.loc 1 142 7 is_stmt 0 view .LVU206
 789 0006 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 790              		.loc 1 142 20 view .LVU207
 791 0008 0133     		adds	r3, r3, #1
 792 000a DBB2     		uxtb	r3, r3
 793 000c 0375     		strb	r3, [r0, #20]
 143:Lib/Src/MotorControl.c **** 		if( axis->time_sample >= T_SAMPLE )
 794              		.loc 1 143 3 is_stmt 1 view .LVU208
 795              		.loc 1 143 5 is_stmt 0 view .LVU209
 796 000e 012B     		cmp	r3, #1
 797 0010 04D9     		bls	.L57
 144:Lib/Src/MotorControl.c **** 		{
 145:Lib/Src/MotorControl.c **** 			//readEncoder(axis->htim_enc, &axis->pos);
 146:Lib/Src/MotorControl.c **** 			//axis->pos += (int16_t)(axis->htim_enc->Instance->CNT);
 147:Lib/Src/MotorControl.c **** 			//axis->htim_enc->Instance->CNT = 0;
 148:Lib/Src/MotorControl.c **** 			//PID_control(axis->setpoint, axis);
 149:Lib/Src/MotorControl.c **** 			axis->time_sample = 0;			
 798              		.loc 1 149 4 is_stmt 1 view .LVU210
 799              		.loc 1 149 22 is_stmt 0 view .LVU211
 800 0012 0023     		movs	r3, #0
 801 0014 0375     		strb	r3, [r0, #20]
 150:Lib/Src/MotorControl.c **** 			axis->sample_flag = true;
 802              		.loc 1 150 4 is_stmt 1 view .LVU212
 803              		.loc 1 150 22 is_stmt 0 view .LVU213
 804 0016 0123     		movs	r3, #1
 805 0018 80F84630 		strb	r3, [r0, #70]
 806              	.L57:
 151:Lib/Src/MotorControl.c **** 		}
 152:Lib/Src/MotorControl.c **** 	}
 153:Lib/Src/MotorControl.c **** }
 807              		.loc 1 153 1 view .LVU214
 808 001c 7047     		bx	lr
 809              		.cfi_endproc
 810              	.LFE71:
 812              		.global	__aeabi_i2d
 813              		.global	__aeabi_dmul
 814              		.global	__aeabi_f2d
 815              		.global	__aeabi_dadd
 816              		.global	__aeabi_d2f
 817              		.global	__aeabi_i2f
 818              		.global	__aeabi_fadd
 819              		.global	__aeabi_ddiv
 820              		.section	.text.PID_control,"ax",%progbits
 821              		.align	1
 822              		.global	PID_control
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 21


 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 827              	PID_control:
 828              	.LVL66:
 829              	.LFB72:
 154:Lib/Src/MotorControl.c **** 
 155:Lib/Src/MotorControl.c **** void PID_control(int sp, AXIS *pid)
 156:Lib/Src/MotorControl.c **** {
 830              		.loc 1 156 1 is_stmt 1 view -0
 831              		.cfi_startproc
 832              		@ args = 0, pretend = 0, frame = 0
 833              		@ frame_needed = 0, uses_anonymous_args = 0
 834              		.loc 1 156 1 is_stmt 0 view .LVU216
 835 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 836              	.LCFI5:
 837              		.cfi_def_cfa_offset 24
 838              		.cfi_offset 4, -24
 839              		.cfi_offset 5, -20
 840              		.cfi_offset 6, -16
 841              		.cfi_offset 7, -12
 842              		.cfi_offset 8, -8
 843              		.cfi_offset 14, -4
 844 0004 0C46     		mov	r4, r1
 157:Lib/Src/MotorControl.c **** 	int e;
 845              		.loc 1 157 2 is_stmt 1 view .LVU217
 158:Lib/Src/MotorControl.c **** 	e = sp - pid->pos;	
 846              		.loc 1 158 2 view .LVU218
 847              		.loc 1 158 14 is_stmt 0 view .LVU219
 848 0006 8B69     		ldr	r3, [r1, #24]
 849              		.loc 1 158 9 view .LVU220
 850 0008 C51A     		subs	r5, r0, r3
 851              	.LVL67:
 159:Lib/Src/MotorControl.c **** 	pid->I_part += TS*e;
 852              		.loc 1 159 2 is_stmt 1 view .LVU221
 853              		.loc 1 159 19 is_stmt 0 view .LVU222
 854 000a 2846     		mov	r0, r5
 855              	.LVL68:
 856              		.loc 1 159 19 view .LVU223
 857 000c FFF7FEFF 		bl	__aeabi_i2d
 858              	.LVL69:
 859              		.loc 1 159 19 view .LVU224
 860 0010 27A3     		adr	r3, .L62
 861 0012 D3E90023 		ldrd	r2, [r3]
 862 0016 FFF7FEFF 		bl	__aeabi_dmul
 863              	.LVL70:
 864 001a 0646     		mov	r6, r0
 865 001c 0F46     		mov	r7, r1
 866              		.loc 1 159 14 view .LVU225
 867 001e E068     		ldr	r0, [r4, #12]	@ float
 868 0020 FFF7FEFF 		bl	__aeabi_f2d
 869              	.LVL71:
 870 0024 3246     		mov	r2, r6
 871 0026 3B46     		mov	r3, r7
 872 0028 FFF7FEFF 		bl	__aeabi_dadd
 873              	.LVL72:
 874 002c FFF7FEFF 		bl	__aeabi_d2f
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 22


 875              	.LVL73:
 876 0030 0646     		mov	r6, r0
 877 0032 E060     		str	r0, [r4, #12]	@ float
 160:Lib/Src/MotorControl.c **** 	pid->pwm = pid->Kp*e + pid->Ki*pid->I_part + pid->Kd*(e-pid->e_pre)/TS;
 878              		.loc 1 160 2 is_stmt 1 view .LVU226
 879              		.loc 1 160 16 is_stmt 0 view .LVU227
 880 0034 2768     		ldr	r7, [r4]	@ float
 881              		.loc 1 160 20 view .LVU228
 882 0036 2846     		mov	r0, r5
 883 0038 FFF7FEFF 		bl	__aeabi_i2f
 884              	.LVL74:
 885 003c 3946     		mov	r1, r7
 886 003e FFF7FEFF 		bl	__aeabi_fmul
 887              	.LVL75:
 888 0042 0746     		mov	r7, r0
 889              		.loc 1 160 32 view .LVU229
 890 0044 6168     		ldr	r1, [r4, #4]	@ float
 891 0046 3046     		mov	r0, r6
 892 0048 FFF7FEFF 		bl	__aeabi_fmul
 893              	.LVL76:
 894 004c 0146     		mov	r1, r0
 895              		.loc 1 160 23 view .LVU230
 896 004e 3846     		mov	r0, r7
 897 0050 FFF7FEFF 		bl	__aeabi_fadd
 898              	.LVL77:
 899 0054 FFF7FEFF 		bl	__aeabi_f2d
 900              	.LVL78:
 901 0058 0646     		mov	r6, r0
 902 005a 0F46     		mov	r7, r1
 903              		.loc 1 160 50 view .LVU231
 904 005c D4F80880 		ldr	r8, [r4, #8]	@ float
 905              		.loc 1 160 61 view .LVU232
 906 0060 2069     		ldr	r0, [r4, #16]
 907              		.loc 1 160 54 view .LVU233
 908 0062 281A     		subs	r0, r5, r0
 909 0064 FFF7FEFF 		bl	__aeabi_i2f
 910              	.LVL79:
 911 0068 4146     		mov	r1, r8
 912 006a FFF7FEFF 		bl	__aeabi_fmul
 913              	.LVL80:
 914 006e FFF7FEFF 		bl	__aeabi_f2d
 915              	.LVL81:
 916              		.loc 1 160 69 view .LVU234
 917 0072 0FA3     		adr	r3, .L62
 918 0074 D3E90023 		ldrd	r2, [r3]
 919 0078 FFF7FEFF 		bl	__aeabi_ddiv
 920              	.LVL82:
 921 007c 0246     		mov	r2, r0
 922 007e 0B46     		mov	r3, r1
 923              		.loc 1 160 45 view .LVU235
 924 0080 3046     		mov	r0, r6
 925 0082 3946     		mov	r1, r7
 926 0084 FFF7FEFF 		bl	__aeabi_dadd
 927              	.LVL83:
 928 0088 FFF7FEFF 		bl	__aeabi_d2f
 929              	.LVL84:
 930              		.loc 1 160 11 view .LVU236
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 23


 931 008c E061     		str	r0, [r4, #28]	@ float
 161:Lib/Src/MotorControl.c **** 	pid->e_pre = e;
 932              		.loc 1 161 2 is_stmt 1 view .LVU237
 933              		.loc 1 161 13 is_stmt 0 view .LVU238
 934 008e 2561     		str	r5, [r4, #16]
 162:Lib/Src/MotorControl.c **** 	if(int_abs(e) < pid->ERROR)
 935              		.loc 1 162 2 is_stmt 1 view .LVU239
 936              		.loc 1 162 5 is_stmt 0 view .LVU240
 937 0090 2846     		mov	r0, r5
 938 0092 FFF7FEFF 		bl	int_abs
 939              	.LVL85:
 940              		.loc 1 162 21 view .LVU241
 941 0096 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 942              		.loc 1 162 4 view .LVU242
 943 009a 9842     		cmp	r0, r3
 944 009c 04DA     		bge	.L59
 163:Lib/Src/MotorControl.c **** 	{
 164:Lib/Src/MotorControl.c **** 		pid->finish = true;
 945              		.loc 1 164 3 is_stmt 1 view .LVU243
 946              		.loc 1 164 15 is_stmt 0 view .LVU244
 947 009e 0123     		movs	r3, #1
 948 00a0 84F84430 		strb	r3, [r4, #68]
 165:Lib/Src/MotorControl.c **** 		pid->pwm = 0;
 949              		.loc 1 165 3 is_stmt 1 view .LVU245
 950              		.loc 1 165 12 is_stmt 0 view .LVU246
 951 00a4 0023     		movs	r3, #0
 952 00a6 E361     		str	r3, [r4, #28]	@ float
 953              	.L59:
 166:Lib/Src/MotorControl.c **** 		//pid->pid_process = false;
 167:Lib/Src/MotorControl.c **** 	}
 168:Lib/Src/MotorControl.c **** }
 954              		.loc 1 168 1 view .LVU247
 955 00a8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 956              	.LVL86:
 957              	.L63:
 958              		.loc 1 168 1 view .LVU248
 959 00ac AFF30080 		.align	3
 960              	.L62:
 961 00b0 7B14AE47 		.word	1202590843
 962 00b4 E17A943F 		.word	1066695393
 963              		.cfi_endproc
 964              	.LFE72:
 966              		.section	.text.HOME,"ax",%progbits
 967              		.align	1
 968              		.global	HOME
 969              		.syntax unified
 970              		.thumb
 971              		.thumb_func
 973              	HOME:
 974              	.LVL87:
 975              	.LFB73:
 169:Lib/Src/MotorControl.c **** 
 170:Lib/Src/MotorControl.c **** void HOME(AXIS *axis)
 171:Lib/Src/MotorControl.c **** {
 976              		.loc 1 171 1 is_stmt 1 view -0
 977              		.cfi_startproc
 978              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 24


 979              		@ frame_needed = 0, uses_anonymous_args = 0
 980              		.loc 1 171 1 is_stmt 0 view .LVU250
 981 0000 10B5     		push	{r4, lr}
 982              	.LCFI6:
 983              		.cfi_def_cfa_offset 8
 984              		.cfi_offset 4, -8
 985              		.cfi_offset 14, -4
 986 0002 0446     		mov	r4, r0
 172:Lib/Src/MotorControl.c **** 	if( HAL_GPIO_ReadPin(axis->GPIO_HOME, axis->PIN_HOME) == 1)
 987              		.loc 1 172 2 is_stmt 1 view .LVU251
 988              		.loc 1 172 6 is_stmt 0 view .LVU252
 989 0004 818F     		ldrh	r1, [r0, #60]
 990 0006 806B     		ldr	r0, [r0, #56]
 991              	.LVL88:
 992              		.loc 1 172 6 view .LVU253
 993 0008 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 994              	.LVL89:
 995              		.loc 1 172 4 view .LVU254
 996 000c 0128     		cmp	r0, #1
 997 000e 08D0     		beq	.L68
 173:Lib/Src/MotorControl.c **** 		{
 174:Lib/Src/MotorControl.c **** 			axis->pwm = -0.8;
 175:Lib/Src/MotorControl.c **** 			PWM(axis);
 176:Lib/Src/MotorControl.c **** 			axis->home = false;
 177:Lib/Src/MotorControl.c **** 		}
 178:Lib/Src/MotorControl.c **** 	else
 179:Lib/Src/MotorControl.c **** 		{
 180:Lib/Src/MotorControl.c **** 			axis->pwm = 0;
 998              		.loc 1 180 4 is_stmt 1 view .LVU255
 999              		.loc 1 180 14 is_stmt 0 view .LVU256
 1000 0010 0023     		movs	r3, #0
 1001 0012 E361     		str	r3, [r4, #28]	@ float
 181:Lib/Src/MotorControl.c **** 			PWM(axis);
 1002              		.loc 1 181 4 is_stmt 1 view .LVU257
 1003 0014 2046     		mov	r0, r4
 1004 0016 FFF7FEFF 		bl	PWM
 1005              	.LVL90:
 182:Lib/Src/MotorControl.c **** 			axis->home = true;
 1006              		.loc 1 182 4 view .LVU258
 1007              		.loc 1 182 15 is_stmt 0 view .LVU259
 1008 001a 0123     		movs	r3, #1
 1009 001c 84F84730 		strb	r3, [r4, #71]
 1010              	.L64:
 183:Lib/Src/MotorControl.c **** 		}
 184:Lib/Src/MotorControl.c **** }
 1011              		.loc 1 184 1 view .LVU260
 1012 0020 10BD     		pop	{r4, pc}
 1013              	.LVL91:
 1014              	.L68:
 174:Lib/Src/MotorControl.c **** 			PWM(axis);
 1015              		.loc 1 174 4 is_stmt 1 view .LVU261
 174:Lib/Src/MotorControl.c **** 			PWM(axis);
 1016              		.loc 1 174 14 is_stmt 0 view .LVU262
 1017 0022 044B     		ldr	r3, .L69
 1018 0024 E361     		str	r3, [r4, #28]	@ float
 175:Lib/Src/MotorControl.c **** 			axis->home = false;
 1019              		.loc 1 175 4 is_stmt 1 view .LVU263
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 25


 1020 0026 2046     		mov	r0, r4
 1021 0028 FFF7FEFF 		bl	PWM
 1022              	.LVL92:
 176:Lib/Src/MotorControl.c **** 		}
 1023              		.loc 1 176 4 view .LVU264
 176:Lib/Src/MotorControl.c **** 		}
 1024              		.loc 1 176 15 is_stmt 0 view .LVU265
 1025 002c 0023     		movs	r3, #0
 1026 002e 84F84730 		strb	r3, [r4, #71]
 1027 0032 F5E7     		b	.L64
 1028              	.L70:
 1029              		.align	2
 1030              	.L69:
 1031 0034 CDCC4CBF 		.word	-1085485875
 1032              		.cfi_endproc
 1033              	.LFE73:
 1035              		.section	.text.move,"ax",%progbits
 1036              		.align	1
 1037              		.global	move
 1038              		.syntax unified
 1039              		.thumb
 1040              		.thumb_func
 1042              	move:
 1043              	.LVL93:
 1044              	.LFB74:
 185:Lib/Src/MotorControl.c **** void move(AXIS *axis, float pos)
 186:Lib/Src/MotorControl.c **** {
 1045              		.loc 1 186 1 is_stmt 1 view -0
 1046              		.cfi_startproc
 1047              		@ args = 0, pretend = 0, frame = 0
 1048              		@ frame_needed = 0, uses_anonymous_args = 0
 1049              		.loc 1 186 1 is_stmt 0 view .LVU267
 1050 0000 10B5     		push	{r4, lr}
 1051              	.LCFI7:
 1052              		.cfi_def_cfa_offset 8
 1053              		.cfi_offset 4, -8
 1054              		.cfi_offset 14, -4
 1055 0002 0446     		mov	r4, r0
 187:Lib/Src/MotorControl.c **** 	if( axis->pid_process == false)
 1056              		.loc 1 187 2 is_stmt 1 view .LVU268
 1057              		.loc 1 187 10 is_stmt 0 view .LVU269
 1058 0004 90F84530 		ldrb	r3, [r0, #69]	@ zero_extendqisi2
 1059              		.loc 1 187 4 view .LVU270
 1060 0008 43B9     		cbnz	r3, .L72
 188:Lib/Src/MotorControl.c **** 	{
 189:Lib/Src/MotorControl.c **** 		axis->setpoint = (int)(pos*axis->mm_pulse);
 1061              		.loc 1 189 3 is_stmt 1 view .LVU271
 1062              		.loc 1 189 29 is_stmt 0 view .LVU272
 1063 000a 006C     		ldr	r0, [r0, #64]	@ float
 1064              	.LVL94:
 1065              		.loc 1 189 29 view .LVU273
 1066 000c FFF7FEFF 		bl	__aeabi_fmul
 1067              	.LVL95:
 1068              		.loc 1 189 20 view .LVU274
 1069 0010 FFF7FEFF 		bl	__aeabi_f2iz
 1070              	.LVL96:
 1071              		.loc 1 189 18 view .LVU275
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 26


 1072 0014 2062     		str	r0, [r4, #32]
 190:Lib/Src/MotorControl.c **** 	  	axis->pid_process = true;
 1073              		.loc 1 190 5 is_stmt 1 view .LVU276
 1074              		.loc 1 190 23 is_stmt 0 view .LVU277
 1075 0016 0123     		movs	r3, #1
 1076 0018 84F84530 		strb	r3, [r4, #69]
 1077              	.L72:
 191:Lib/Src/MotorControl.c **** 	}
 192:Lib/Src/MotorControl.c **** 	if(axis->sample_flag)
 1078              		.loc 1 192 2 is_stmt 1 view .LVU278
 1079              		.loc 1 192 9 is_stmt 0 view .LVU279
 1080 001c 94F84630 		ldrb	r3, [r4, #70]	@ zero_extendqisi2
 1081              		.loc 1 192 4 view .LVU280
 1082 0020 33B9     		cbnz	r3, .L76
 1083              	.L73:
 193:Lib/Src/MotorControl.c **** 	{
 194:Lib/Src/MotorControl.c **** 		//readEncoder(axis->htim_enc, &axis->pos);
 195:Lib/Src/MotorControl.c **** 		readEncoder(axis);
 196:Lib/Src/MotorControl.c **** 		PID_control(axis->setpoint, axis);
 197:Lib/Src/MotorControl.c **** 		axis->sample_flag = false;
 198:Lib/Src/MotorControl.c **** 		axis->time_sample = 0;
 199:Lib/Src/MotorControl.c **** 	}
 200:Lib/Src/MotorControl.c **** 	PWM(axis);	
 1084              		.loc 1 200 2 is_stmt 1 view .LVU281
 1085 0022 2046     		mov	r0, r4
 1086 0024 FFF7FEFF 		bl	PWM
 1087              	.LVL97:
 201:Lib/Src/MotorControl.c **** 	if( axis->finish)
 1088              		.loc 1 201 2 view .LVU282
 1089              		.loc 1 201 10 is_stmt 0 view .LVU283
 1090 0028 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 1091              		.loc 1 201 4 view .LVU284
 1092 002c 63B9     		cbnz	r3, .L77
 1093              	.L71:
 202:Lib/Src/MotorControl.c **** 	{
 203:Lib/Src/MotorControl.c **** 		axis->pwm = 0;
 204:Lib/Src/MotorControl.c **** 		PWM(axis);
 205:Lib/Src/MotorControl.c **** 		axis->pid_process = false;		
 206:Lib/Src/MotorControl.c **** 		axis->time_sample = 0;		
 207:Lib/Src/MotorControl.c **** 	}
 208:Lib/Src/MotorControl.c **** }
 1094              		.loc 1 208 1 view .LVU285
 1095 002e 10BD     		pop	{r4, pc}
 1096              	.LVL98:
 1097              	.L76:
 195:Lib/Src/MotorControl.c **** 		PID_control(axis->setpoint, axis);
 1098              		.loc 1 195 3 is_stmt 1 view .LVU286
 1099 0030 2046     		mov	r0, r4
 1100 0032 FFF7FEFF 		bl	readEncoder
 1101              	.LVL99:
 196:Lib/Src/MotorControl.c **** 		axis->sample_flag = false;
 1102              		.loc 1 196 3 view .LVU287
 1103 0036 2146     		mov	r1, r4
 1104 0038 206A     		ldr	r0, [r4, #32]
 1105 003a FFF7FEFF 		bl	PID_control
 1106              	.LVL100:
 197:Lib/Src/MotorControl.c **** 		axis->time_sample = 0;
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 27


 1107              		.loc 1 197 3 view .LVU288
 197:Lib/Src/MotorControl.c **** 		axis->time_sample = 0;
 1108              		.loc 1 197 21 is_stmt 0 view .LVU289
 1109 003e 0023     		movs	r3, #0
 1110 0040 84F84630 		strb	r3, [r4, #70]
 198:Lib/Src/MotorControl.c **** 	}
 1111              		.loc 1 198 3 is_stmt 1 view .LVU290
 198:Lib/Src/MotorControl.c **** 	}
 1112              		.loc 1 198 21 is_stmt 0 view .LVU291
 1113 0044 2375     		strb	r3, [r4, #20]
 1114 0046 ECE7     		b	.L73
 1115              	.L77:
 203:Lib/Src/MotorControl.c **** 		PWM(axis);
 1116              		.loc 1 203 3 is_stmt 1 view .LVU292
 203:Lib/Src/MotorControl.c **** 		PWM(axis);
 1117              		.loc 1 203 13 is_stmt 0 view .LVU293
 1118 0048 0023     		movs	r3, #0
 1119 004a E361     		str	r3, [r4, #28]	@ float
 204:Lib/Src/MotorControl.c **** 		axis->pid_process = false;		
 1120              		.loc 1 204 3 is_stmt 1 view .LVU294
 1121 004c 2046     		mov	r0, r4
 1122 004e FFF7FEFF 		bl	PWM
 1123              	.LVL101:
 205:Lib/Src/MotorControl.c **** 		axis->time_sample = 0;		
 1124              		.loc 1 205 3 view .LVU295
 205:Lib/Src/MotorControl.c **** 		axis->time_sample = 0;		
 1125              		.loc 1 205 21 is_stmt 0 view .LVU296
 1126 0052 0023     		movs	r3, #0
 1127 0054 84F84530 		strb	r3, [r4, #69]
 206:Lib/Src/MotorControl.c **** 	}
 1128              		.loc 1 206 3 is_stmt 1 view .LVU297
 206:Lib/Src/MotorControl.c **** 	}
 1129              		.loc 1 206 21 is_stmt 0 view .LVU298
 1130 0058 2375     		strb	r3, [r4, #20]
 1131              		.loc 1 208 1 view .LVU299
 1132 005a E8E7     		b	.L71
 1133              		.cfi_endproc
 1134              	.LFE74:
 1136              		.section	.text.moveGcode,"ax",%progbits
 1137              		.align	1
 1138              		.global	moveGcode
 1139              		.syntax unified
 1140              		.thumb
 1141              		.thumb_func
 1143              	moveGcode:
 1144              	.LVL102:
 1145              	.LFB75:
 209:Lib/Src/MotorControl.c **** void moveGcode(AXIS *pAxis)
 210:Lib/Src/MotorControl.c **** {
 1146              		.loc 1 210 1 is_stmt 1 view -0
 1147              		.cfi_startproc
 1148              		@ args = 0, pretend = 0, frame = 0
 1149              		@ frame_needed = 0, uses_anonymous_args = 0
 1150              		.loc 1 210 1 is_stmt 0 view .LVU301
 1151 0000 10B5     		push	{r4, lr}
 1152              	.LCFI8:
 1153              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 28


 1154              		.cfi_offset 4, -8
 1155              		.cfi_offset 14, -4
 1156 0002 0446     		mov	r4, r0
 211:Lib/Src/MotorControl.c **** 	pAxis->setpoint = (int)(pAxis->last * pAxis->mm_pulse);
 1157              		.loc 1 211 2 is_stmt 1 view .LVU302
 1158              		.loc 1 211 38 is_stmt 0 view .LVU303
 1159 0004 016C     		ldr	r1, [r0, #64]	@ float
 1160 0006 C06C     		ldr	r0, [r0, #76]	@ float
 1161              	.LVL103:
 1162              		.loc 1 211 38 view .LVU304
 1163 0008 FFF7FEFF 		bl	__aeabi_fmul
 1164              	.LVL104:
 1165              		.loc 1 211 20 view .LVU305
 1166 000c FFF7FEFF 		bl	__aeabi_f2iz
 1167              	.LVL105:
 1168              		.loc 1 211 18 view .LVU306
 1169 0010 2062     		str	r0, [r4, #32]
 212:Lib/Src/MotorControl.c **** 	pAxis->pid_process = true;
 1170              		.loc 1 212 2 is_stmt 1 view .LVU307
 1171              		.loc 1 212 21 is_stmt 0 view .LVU308
 1172 0012 0123     		movs	r3, #1
 1173 0014 84F84530 		strb	r3, [r4, #69]
 213:Lib/Src/MotorControl.c **** 	while( pAxis->pid_process)
 1174              		.loc 1 213 2 is_stmt 1 view .LVU309
 1175              		.loc 1 213 7 is_stmt 0 view .LVU310
 1176 0018 05E0     		b	.L81
 1177              	.L80:
 214:Lib/Src/MotorControl.c **** 	{
 215:Lib/Src/MotorControl.c **** 		if(pAxis->sample_flag)
 216:Lib/Src/MotorControl.c **** 		{
 217:Lib/Src/MotorControl.c **** 			//readEncoder(pAxis->htim_enc, &pAxis->pos);
 218:Lib/Src/MotorControl.c **** 			readEncoder(pAxis);
 219:Lib/Src/MotorControl.c **** 			PID_control(pAxis->setpoint, pAxis);
 220:Lib/Src/MotorControl.c **** 			pAxis->sample_flag = false;
 221:Lib/Src/MotorControl.c **** 		}
 222:Lib/Src/MotorControl.c **** 		PWM(pAxis);	
 1178              		.loc 1 222 3 is_stmt 1 view .LVU311
 1179 001a 2046     		mov	r0, r4
 1180 001c FFF7FEFF 		bl	PWM
 1181              	.LVL106:
 223:Lib/Src/MotorControl.c **** 		if( pAxis->finish)
 1182              		.loc 1 223 3 view .LVU312
 1183              		.loc 1 223 12 is_stmt 0 view .LVU313
 1184 0020 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 1185              		.loc 1 223 5 view .LVU314
 1186 0024 8BB9     		cbnz	r3, .L84
 1187              	.L81:
 213:Lib/Src/MotorControl.c **** 	while( pAxis->pid_process)
 1188              		.loc 1 213 7 is_stmt 1 view .LVU315
 213:Lib/Src/MotorControl.c **** 	while( pAxis->pid_process)
 1189              		.loc 1 213 14 is_stmt 0 view .LVU316
 1190 0026 94F84530 		ldrb	r3, [r4, #69]	@ zero_extendqisi2
 213:Lib/Src/MotorControl.c **** 	while( pAxis->pid_process)
 1191              		.loc 1 213 7 view .LVU317
 1192 002a D3B1     		cbz	r3, .L85
 215:Lib/Src/MotorControl.c **** 		{
 1193              		.loc 1 215 3 is_stmt 1 view .LVU318
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 29


 215:Lib/Src/MotorControl.c **** 		{
 1194              		.loc 1 215 11 is_stmt 0 view .LVU319
 1195 002c 94F84630 		ldrb	r3, [r4, #70]	@ zero_extendqisi2
 215:Lib/Src/MotorControl.c **** 		{
 1196              		.loc 1 215 5 view .LVU320
 1197 0030 002B     		cmp	r3, #0
 1198 0032 F2D0     		beq	.L80
 218:Lib/Src/MotorControl.c **** 			PID_control(pAxis->setpoint, pAxis);
 1199              		.loc 1 218 4 is_stmt 1 view .LVU321
 1200 0034 2046     		mov	r0, r4
 1201 0036 FFF7FEFF 		bl	readEncoder
 1202              	.LVL107:
 219:Lib/Src/MotorControl.c **** 			pAxis->sample_flag = false;
 1203              		.loc 1 219 4 view .LVU322
 1204 003a 2146     		mov	r1, r4
 1205 003c 206A     		ldr	r0, [r4, #32]
 1206 003e FFF7FEFF 		bl	PID_control
 1207              	.LVL108:
 220:Lib/Src/MotorControl.c **** 		}
 1208              		.loc 1 220 4 view .LVU323
 220:Lib/Src/MotorControl.c **** 		}
 1209              		.loc 1 220 23 is_stmt 0 view .LVU324
 1210 0042 0023     		movs	r3, #0
 1211 0044 84F84630 		strb	r3, [r4, #70]
 1212 0048 E7E7     		b	.L80
 1213              	.L84:
 224:Lib/Src/MotorControl.c **** 		{
 225:Lib/Src/MotorControl.c **** 			pAxis->pwm = 0;
 1214              		.loc 1 225 4 is_stmt 1 view .LVU325
 1215              		.loc 1 225 15 is_stmt 0 view .LVU326
 1216 004a 0023     		movs	r3, #0
 1217 004c E361     		str	r3, [r4, #28]	@ float
 226:Lib/Src/MotorControl.c **** 			PWM(pAxis);
 1218              		.loc 1 226 4 is_stmt 1 view .LVU327
 1219 004e 2046     		mov	r0, r4
 1220 0050 FFF7FEFF 		bl	PWM
 1221              	.LVL109:
 227:Lib/Src/MotorControl.c **** 			pAxis->pid_process = false;		
 1222              		.loc 1 227 4 view .LVU328
 1223              		.loc 1 227 23 is_stmt 0 view .LVU329
 1224 0054 0023     		movs	r3, #0
 1225 0056 84F84530 		strb	r3, [r4, #69]
 228:Lib/Src/MotorControl.c **** 			pAxis->time_sample = 0;		
 1226              		.loc 1 228 4 is_stmt 1 view .LVU330
 1227              		.loc 1 228 23 is_stmt 0 view .LVU331
 1228 005a 2375     		strb	r3, [r4, #20]
 229:Lib/Src/MotorControl.c **** 			pAxis->finish = false;
 1229              		.loc 1 229 4 is_stmt 1 view .LVU332
 1230              		.loc 1 229 18 is_stmt 0 view .LVU333
 1231 005c 84F84430 		strb	r3, [r4, #68]
 1232 0060 E1E7     		b	.L81
 1233              	.L85:
 230:Lib/Src/MotorControl.c **** 		}
 231:Lib/Src/MotorControl.c **** 	}
 232:Lib/Src/MotorControl.c **** }
 1234              		.loc 1 232 1 view .LVU334
 1235 0062 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 30


 1236              		.loc 1 232 1 view .LVU335
 1237              		.cfi_endproc
 1238              	.LFE75:
 1240              		.global	__aeabi_fsub
 1241              		.global	__aeabi_d2iz
 1242              		.global	__aeabi_dsub
 1243              		.global	__aeabi_dcmplt
 1244              		.section	.text.drawLine,"ax",%progbits
 1245              		.align	1
 1246              		.global	drawLine
 1247              		.syntax unified
 1248              		.thumb
 1249              		.thumb_func
 1251              	drawLine:
 1252              	.LVL110:
 1253              	.LFB76:
 233:Lib/Src/MotorControl.c **** void drawLine(AXIS *pXAxis, AXIS *pYAxis)
 234:Lib/Src/MotorControl.c **** {
 1254              		.loc 1 234 1 is_stmt 1 view -0
 1255              		.cfi_startproc
 1256              		@ args = 0, pretend = 0, frame = 16
 1257              		@ frame_needed = 0, uses_anonymous_args = 0
 1258              		.loc 1 234 1 is_stmt 0 view .LVU337
 1259 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1260              	.LCFI9:
 1261              		.cfi_def_cfa_offset 36
 1262              		.cfi_offset 4, -36
 1263              		.cfi_offset 5, -32
 1264              		.cfi_offset 6, -28
 1265              		.cfi_offset 7, -24
 1266              		.cfi_offset 8, -20
 1267              		.cfi_offset 9, -16
 1268              		.cfi_offset 10, -12
 1269              		.cfi_offset 11, -8
 1270              		.cfi_offset 14, -4
 1271 0004 85B0     		sub	sp, sp, #20
 1272              	.LCFI10:
 1273              		.cfi_def_cfa_offset 56
 1274 0006 8046     		mov	r8, r0
 1275 0008 8946     		mov	r9, r1
 235:Lib/Src/MotorControl.c **** 	// declare variable
 236:Lib/Src/MotorControl.c **** 	int dx = round(pXAxis->next - pXAxis->last);
 1276              		.loc 1 236 2 is_stmt 1 view .LVU338
 1277              		.loc 1 236 30 is_stmt 0 view .LVU339
 1278 000a C16C     		ldr	r1, [r0, #76]	@ float
 1279              	.LVL111:
 1280              		.loc 1 236 30 view .LVU340
 1281 000c 806C     		ldr	r0, [r0, #72]	@ float
 1282              	.LVL112:
 1283              		.loc 1 236 30 view .LVU341
 1284 000e FFF7FEFF 		bl	__aeabi_fsub
 1285              	.LVL113:
 1286              		.loc 1 236 11 view .LVU342
 1287 0012 FFF7FEFF 		bl	__aeabi_f2d
 1288              	.LVL114:
 1289 0016 FFF7FEFF 		bl	round
 1290              	.LVL115:
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 31


 1291              		.loc 1 236 6 view .LVU343
 1292 001a FFF7FEFF 		bl	__aeabi_d2iz
 1293              	.LVL116:
 1294 001e 0546     		mov	r5, r0
 1295              	.LVL117:
 237:Lib/Src/MotorControl.c **** 	int dy = round(pYAxis->next - pYAxis->last);
 1296              		.loc 1 237 2 is_stmt 1 view .LVU344
 1297              		.loc 1 237 30 is_stmt 0 view .LVU345
 1298 0020 D9F84C10 		ldr	r1, [r9, #76]	@ float
 1299 0024 D9F84800 		ldr	r0, [r9, #72]	@ float
 1300              	.LVL118:
 1301              		.loc 1 237 30 view .LVU346
 1302 0028 FFF7FEFF 		bl	__aeabi_fsub
 1303              	.LVL119:
 1304              		.loc 1 237 11 view .LVU347
 1305 002c FFF7FEFF 		bl	__aeabi_f2d
 1306              	.LVL120:
 1307 0030 FFF7FEFF 		bl	round
 1308              	.LVL121:
 1309              		.loc 1 237 6 view .LVU348
 1310 0034 FFF7FEFF 		bl	__aeabi_d2iz
 1311              	.LVL122:
 1312 0038 8346     		mov	fp, r0
 1313 003a 0290     		str	r0, [sp, #8]
 1314              	.LVL123:
 238:Lib/Src/MotorControl.c **** 	int longest = int_max(int_abs(dx), int_abs(dy));
 1315              		.loc 1 238 2 is_stmt 1 view .LVU349
 1316              		.loc 1 238 16 is_stmt 0 view .LVU350
 1317 003c 2846     		mov	r0, r5
 1318              	.LVL124:
 1319              		.loc 1 238 16 view .LVU351
 1320 003e FFF7FEFF 		bl	int_abs
 1321              	.LVL125:
 1322 0042 0446     		mov	r4, r0
 1323 0044 5846     		mov	r0, fp
 1324 0046 FFF7FEFF 		bl	int_abs
 1325              	.LVL126:
 1326 004a 0146     		mov	r1, r0
 1327 004c 2046     		mov	r0, r4
 1328 004e FFF7FEFF 		bl	int_max
 1329              	.LVL127:
 1330 0052 8246     		mov	r10, r0
 1331              	.LVL128:
 239:Lib/Src/MotorControl.c **** 	int shortest = int_min(int_abs(dx), int_abs(dy));
 1332              		.loc 1 239 2 is_stmt 1 view .LVU352
 1333              		.loc 1 239 17 is_stmt 0 view .LVU353
 1334 0054 2846     		mov	r0, r5
 1335              	.LVL129:
 1336              		.loc 1 239 17 view .LVU354
 1337 0056 FFF7FEFF 		bl	int_abs
 1338              	.LVL130:
 1339 005a 0446     		mov	r4, r0
 1340 005c 5846     		mov	r0, fp
 1341 005e FFF7FEFF 		bl	int_abs
 1342              	.LVL131:
 1343 0062 0146     		mov	r1, r0
 1344 0064 2046     		mov	r0, r4
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 32


 1345 0066 FFF7FEFF 		bl	int_min
 1346              	.LVL132:
 240:Lib/Src/MotorControl.c **** 	int error = - longest;
 1347              		.loc 1 240 2 is_stmt 1 view .LVU355
 1348              		.loc 1 240 6 is_stmt 0 view .LVU356
 1349 006a CAF10006 		rsb	r6, r10, #0
 1350              	.LVL133:
 241:Lib/Src/MotorControl.c **** 	int slope = shortest<<1;
 1351              		.loc 1 241 2 is_stmt 1 view .LVU357
 1352              		.loc 1 241 6 is_stmt 0 view .LVU358
 1353 006e 4400     		lsls	r4, r0, #1
 1354              	.LVL134:
 242:Lib/Src/MotorControl.c **** 	int max = longest<<1;
 1355              		.loc 1 242 2 is_stmt 1 view .LVU359
 1356              		.loc 1 242 6 is_stmt 0 view .LVU360
 1357 0070 4FEA4A03 		lsl	r3, r10, #1
 1358 0074 0393     		str	r3, [sp, #12]
 1359              	.LVL135:
 243:Lib/Src/MotorControl.c **** 	int threshold = 0;
 1360              		.loc 1 243 2 is_stmt 1 view .LVU361
 244:Lib/Src/MotorControl.c **** 	bool swapXY = true;
 1361              		.loc 1 244 2 view .LVU362
 245:Lib/Src/MotorControl.c **** 	
 246:Lib/Src/MotorControl.c **** 	// swap x and y if dy > dx
 247:Lib/Src/MotorControl.c **** 	if(int_abs(dx) > int_abs(dy))
 1362              		.loc 1 247 2 view .LVU363
 1363              		.loc 1 247 5 is_stmt 0 view .LVU364
 1364 0076 2846     		mov	r0, r5
 1365              	.LVL136:
 1366              		.loc 1 247 5 view .LVU365
 1367 0078 FFF7FEFF 		bl	int_abs
 1368              	.LVL137:
 1369              		.loc 1 247 5 view .LVU366
 1370 007c 0746     		mov	r7, r0
 1371              		.loc 1 247 19 view .LVU367
 1372 007e 5846     		mov	r0, fp
 1373 0080 FFF7FEFF 		bl	int_abs
 1374              	.LVL138:
 1375              		.loc 1 247 4 view .LVU368
 1376 0084 8742     		cmp	r7, r0
 1377 0086 06DC     		bgt	.L102
 244:Lib/Src/MotorControl.c **** 	bool swapXY = true;
 1378              		.loc 1 244 7 view .LVU369
 1379 0088 4FF0010B 		mov	fp, #1
 1380              	.LVL139:
 1381              	.L87:
 248:Lib/Src/MotorControl.c **** 		swapXY = false;
 249:Lib/Src/MotorControl.c **** 	
 250:Lib/Src/MotorControl.c **** 	// Bresenham Algorithm
 251:Lib/Src/MotorControl.c **** 	for(int i = 0; i < longest/STEP ; i++)
 1382              		.loc 1 251 2 is_stmt 1 view .LVU370
 1383              	.LBB10:
 1384              		.loc 1 251 6 view .LVU371
 1385              		.loc 1 251 10 is_stmt 0 view .LVU372
 1386 008c 0027     		movs	r7, #0
 1387 008e 2B46     		mov	r3, r5
 1388 0090 5D46     		mov	r5, fp
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 33


 1389              	.LVL140:
 1390              		.loc 1 251 10 view .LVU373
 1391 0092 9B46     		mov	fp, r3
 1392              	.LVL141:
 1393              		.loc 1 251 2 view .LVU374
 1394 0094 43E0     		b	.L88
 1395              	.LVL142:
 1396              	.L102:
 1397              		.loc 1 251 2 view .LVU375
 1398              	.LBE10:
 248:Lib/Src/MotorControl.c **** 		swapXY = false;
 1399              		.loc 1 248 10 view .LVU376
 1400 0096 4FF0000B 		mov	fp, #0
 1401              	.LVL143:
 248:Lib/Src/MotorControl.c **** 		swapXY = false;
 1402              		.loc 1 248 10 view .LVU377
 1403 009a F7E7     		b	.L87
 1404              	.LVL144:
 1405              	.L90:
 1406              	.LBB11:
 252:Lib/Src/MotorControl.c **** 	{
 253:Lib/Src/MotorControl.c **** 		if(swapXY)
 254:Lib/Src/MotorControl.c **** 		{
 255:Lib/Src/MotorControl.c **** 			if( dy > 0)
 256:Lib/Src/MotorControl.c **** 				pYAxis->last += STEP;
 257:Lib/Src/MotorControl.c **** 			else
 258:Lib/Src/MotorControl.c **** 				pYAxis->last -= STEP;
 1407              		.loc 1 258 5 is_stmt 1 view .LVU378
 1408              		.loc 1 258 18 is_stmt 0 view .LVU379
 1409 009c D9F84C00 		ldr	r0, [r9, #76]	@ float
 1410 00a0 FFF7FEFF 		bl	__aeabi_f2d
 1411              	.LVL145:
 1412 00a4 50A3     		adr	r3, .L105
 1413 00a6 D3E90023 		ldrd	r2, [r3]
 1414 00aa FFF7FEFF 		bl	__aeabi_dsub
 1415              	.LVL146:
 1416 00ae FFF7FEFF 		bl	__aeabi_d2f
 1417              	.LVL147:
 1418 00b2 C9F84C00 		str	r0, [r9, #76]	@ float
 1419 00b6 59E0     		b	.L91
 1420              	.L89:
 259:Lib/Src/MotorControl.c **** 			moveGcode(pYAxis);
 260:Lib/Src/MotorControl.c **** 		}
 261:Lib/Src/MotorControl.c **** 		else
 262:Lib/Src/MotorControl.c **** 		{
 263:Lib/Src/MotorControl.c **** 			if( dx > 0)
 1421              		.loc 1 263 4 is_stmt 1 view .LVU380
 1422              		.loc 1 263 6 is_stmt 0 view .LVU381
 1423 00b8 BBF1000F 		cmp	fp, #0
 1424 00bc 10DD     		ble	.L93
 264:Lib/Src/MotorControl.c **** 				pXAxis->last += STEP;
 1425              		.loc 1 264 5 is_stmt 1 view .LVU382
 1426              		.loc 1 264 18 is_stmt 0 view .LVU383
 1427 00be D8F84C00 		ldr	r0, [r8, #76]	@ float
 1428 00c2 FFF7FEFF 		bl	__aeabi_f2d
 1429              	.LVL148:
 1430 00c6 48A3     		adr	r3, .L105
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 34


 1431 00c8 D3E90023 		ldrd	r2, [r3]
 1432 00cc FFF7FEFF 		bl	__aeabi_dadd
 1433              	.LVL149:
 1434 00d0 FFF7FEFF 		bl	__aeabi_d2f
 1435              	.LVL150:
 1436 00d4 C8F84C00 		str	r0, [r8, #76]	@ float
 1437              	.L94:
 265:Lib/Src/MotorControl.c **** 			else
 266:Lib/Src/MotorControl.c **** 				pXAxis->last -= STEP;
 267:Lib/Src/MotorControl.c **** 			moveGcode(pXAxis);
 1438              		.loc 1 267 4 is_stmt 1 view .LVU384
 1439 00d8 4046     		mov	r0, r8
 1440 00da FFF7FEFF 		bl	moveGcode
 1441              	.LVL151:
 1442 00de 48E0     		b	.L92
 1443              	.L93:
 266:Lib/Src/MotorControl.c **** 			moveGcode(pXAxis);
 1444              		.loc 1 266 5 view .LVU385
 266:Lib/Src/MotorControl.c **** 			moveGcode(pXAxis);
 1445              		.loc 1 266 18 is_stmt 0 view .LVU386
 1446 00e0 D8F84C00 		ldr	r0, [r8, #76]	@ float
 1447 00e4 FFF7FEFF 		bl	__aeabi_f2d
 1448              	.LVL152:
 1449 00e8 3FA3     		adr	r3, .L105
 1450 00ea D3E90023 		ldrd	r2, [r3]
 1451 00ee FFF7FEFF 		bl	__aeabi_dsub
 1452              	.LVL153:
 1453 00f2 FFF7FEFF 		bl	__aeabi_d2f
 1454              	.LVL154:
 1455 00f6 C8F84C00 		str	r0, [r8, #76]	@ float
 1456 00fa EDE7     		b	.L94
 1457              	.L97:
 268:Lib/Src/MotorControl.c **** 		}
 269:Lib/Src/MotorControl.c **** 		error = error + slope;
 270:Lib/Src/MotorControl.c **** 		if(error >= threshold)
 271:Lib/Src/MotorControl.c **** 		{
 272:Lib/Src/MotorControl.c **** 			error = error - max;
 273:Lib/Src/MotorControl.c **** 			if(!swapXY)
 274:Lib/Src/MotorControl.c **** 			{
 275:Lib/Src/MotorControl.c **** 				if( dy > 0)
 276:Lib/Src/MotorControl.c **** 					pYAxis->last += STEP;
 277:Lib/Src/MotorControl.c **** 				else
 278:Lib/Src/MotorControl.c **** 					pYAxis->last -= STEP;
 1458              		.loc 1 278 6 is_stmt 1 view .LVU387
 1459              		.loc 1 278 19 is_stmt 0 view .LVU388
 1460 00fc D9F84C00 		ldr	r0, [r9, #76]	@ float
 1461 0100 FFF7FEFF 		bl	__aeabi_f2d
 1462              	.LVL155:
 1463 0104 38A3     		adr	r3, .L105
 1464 0106 D3E90023 		ldrd	r2, [r3]
 1465 010a FFF7FEFF 		bl	__aeabi_dsub
 1466              	.LVL156:
 1467 010e FFF7FEFF 		bl	__aeabi_d2f
 1468              	.LVL157:
 1469 0112 C9F84C00 		str	r0, [r9, #76]	@ float
 1470              	.L98:
 279:Lib/Src/MotorControl.c **** 				moveGcode(pYAxis);
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 35


 1471              		.loc 1 279 5 is_stmt 1 view .LVU389
 1472 0116 4846     		mov	r0, r9
 1473 0118 FFF7FEFF 		bl	moveGcode
 1474              	.LVL158:
 1475              	.L95:
 251:Lib/Src/MotorControl.c **** 	{
 1476              		.loc 1 251 36 discriminator 2 view .LVU390
 251:Lib/Src/MotorControl.c **** 	{
 1477              		.loc 1 251 37 is_stmt 0 discriminator 2 view .LVU391
 1478 011c 0137     		adds	r7, r7, #1
 1479              	.LVL159:
 1480              	.L88:
 251:Lib/Src/MotorControl.c **** 	{
 1481              		.loc 1 251 17 is_stmt 1 discriminator 1 view .LVU392
 251:Lib/Src/MotorControl.c **** 	{
 1482              		.loc 1 251 19 is_stmt 0 discriminator 1 view .LVU393
 1483 011e 3846     		mov	r0, r7
 1484 0120 FFF7FEFF 		bl	__aeabi_i2d
 1485              	.LVL160:
 1486 0124 CDE90001 		strd	r0, [sp]
 251:Lib/Src/MotorControl.c **** 	{
 1487              		.loc 1 251 28 discriminator 1 view .LVU394
 1488 0128 5046     		mov	r0, r10
 1489 012a FFF7FEFF 		bl	__aeabi_i2d
 1490              	.LVL161:
 1491 012e 2EA3     		adr	r3, .L105
 1492 0130 D3E90023 		ldrd	r2, [r3]
 1493 0134 FFF7FEFF 		bl	__aeabi_ddiv
 1494              	.LVL162:
 1495 0138 0246     		mov	r2, r0
 1496 013a 0B46     		mov	r3, r1
 251:Lib/Src/MotorControl.c **** 	{
 1497              		.loc 1 251 2 discriminator 1 view .LVU395
 1498 013c DDE90001 		ldrd	r0, [sp]
 1499 0140 FFF7FEFF 		bl	__aeabi_dcmplt
 1500              	.LVL163:
 1501 0144 0028     		cmp	r0, #0
 1502 0146 4CD0     		beq	.L104
 253:Lib/Src/MotorControl.c **** 		{
 1503              		.loc 1 253 3 is_stmt 1 view .LVU396
 253:Lib/Src/MotorControl.c **** 		{
 1504              		.loc 1 253 5 is_stmt 0 view .LVU397
 1505 0148 002D     		cmp	r5, #0
 1506 014a B5D0     		beq	.L89
 255:Lib/Src/MotorControl.c **** 				pYAxis->last += STEP;
 1507              		.loc 1 255 4 is_stmt 1 view .LVU398
 255:Lib/Src/MotorControl.c **** 				pYAxis->last += STEP;
 1508              		.loc 1 255 6 is_stmt 0 view .LVU399
 1509 014c 029B     		ldr	r3, [sp, #8]
 1510 014e 002B     		cmp	r3, #0
 1511 0150 A4DD     		ble	.L90
 256:Lib/Src/MotorControl.c **** 			else
 1512              		.loc 1 256 5 is_stmt 1 view .LVU400
 256:Lib/Src/MotorControl.c **** 			else
 1513              		.loc 1 256 18 is_stmt 0 view .LVU401
 1514 0152 D9F84C00 		ldr	r0, [r9, #76]	@ float
 1515 0156 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 36


 1516              	.LVL164:
 1517 015a 23A3     		adr	r3, .L105
 1518 015c D3E90023 		ldrd	r2, [r3]
 1519 0160 FFF7FEFF 		bl	__aeabi_dadd
 1520              	.LVL165:
 1521 0164 FFF7FEFF 		bl	__aeabi_d2f
 1522              	.LVL166:
 1523 0168 C9F84C00 		str	r0, [r9, #76]	@ float
 1524              	.L91:
 259:Lib/Src/MotorControl.c **** 		}
 1525              		.loc 1 259 4 is_stmt 1 view .LVU402
 1526 016c 4846     		mov	r0, r9
 1527 016e FFF7FEFF 		bl	moveGcode
 1528              	.LVL167:
 1529              	.L92:
 269:Lib/Src/MotorControl.c **** 		if(error >= threshold)
 1530              		.loc 1 269 3 view .LVU403
 270:Lib/Src/MotorControl.c **** 		{
 1531              		.loc 1 270 3 view .LVU404
 270:Lib/Src/MotorControl.c **** 		{
 1532              		.loc 1 270 5 is_stmt 0 view .LVU405
 1533 0172 3619     		adds	r6, r6, r4
 1534              	.LVL168:
 270:Lib/Src/MotorControl.c **** 		{
 1535              		.loc 1 270 5 view .LVU406
 1536 0174 D2D4     		bmi	.L95
 272:Lib/Src/MotorControl.c **** 			if(!swapXY)
 1537              		.loc 1 272 4 is_stmt 1 view .LVU407
 272:Lib/Src/MotorControl.c **** 			if(!swapXY)
 1538              		.loc 1 272 10 is_stmt 0 view .LVU408
 1539 0176 039B     		ldr	r3, [sp, #12]
 1540 0178 F61A     		subs	r6, r6, r3
 1541              	.LVL169:
 273:Lib/Src/MotorControl.c **** 			{
 1542              		.loc 1 273 4 is_stmt 1 view .LVU409
 273:Lib/Src/MotorControl.c **** 			{
 1543              		.loc 1 273 6 is_stmt 0 view .LVU410
 1544 017a 85B9     		cbnz	r5, .L96
 275:Lib/Src/MotorControl.c **** 					pYAxis->last += STEP;
 1545              		.loc 1 275 5 is_stmt 1 view .LVU411
 275:Lib/Src/MotorControl.c **** 					pYAxis->last += STEP;
 1546              		.loc 1 275 7 is_stmt 0 view .LVU412
 1547 017c 029B     		ldr	r3, [sp, #8]
 1548 017e 002B     		cmp	r3, #0
 1549 0180 BCDD     		ble	.L97
 276:Lib/Src/MotorControl.c **** 				else
 1550              		.loc 1 276 6 is_stmt 1 view .LVU413
 276:Lib/Src/MotorControl.c **** 				else
 1551              		.loc 1 276 19 is_stmt 0 view .LVU414
 1552 0182 D9F84C00 		ldr	r0, [r9, #76]	@ float
 1553 0186 FFF7FEFF 		bl	__aeabi_f2d
 1554              	.LVL170:
 1555 018a 17A3     		adr	r3, .L105
 1556 018c D3E90023 		ldrd	r2, [r3]
 1557 0190 FFF7FEFF 		bl	__aeabi_dadd
 1558              	.LVL171:
 1559 0194 FFF7FEFF 		bl	__aeabi_d2f
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 37


 1560              	.LVL172:
 1561 0198 C9F84C00 		str	r0, [r9, #76]	@ float
 1562 019c BBE7     		b	.L98
 1563              	.L96:
 280:Lib/Src/MotorControl.c **** 			}
 281:Lib/Src/MotorControl.c **** 			else
 282:Lib/Src/MotorControl.c **** 			{
 283:Lib/Src/MotorControl.c **** 				if( dx > 0)
 1564              		.loc 1 283 5 is_stmt 1 view .LVU415
 1565              		.loc 1 283 7 is_stmt 0 view .LVU416
 1566 019e BBF1000F 		cmp	fp, #0
 1567 01a2 10DD     		ble	.L99
 284:Lib/Src/MotorControl.c **** 					pXAxis->last += STEP;
 1568              		.loc 1 284 6 is_stmt 1 view .LVU417
 1569              		.loc 1 284 19 is_stmt 0 view .LVU418
 1570 01a4 D8F84C00 		ldr	r0, [r8, #76]	@ float
 1571 01a8 FFF7FEFF 		bl	__aeabi_f2d
 1572              	.LVL173:
 1573 01ac 0EA3     		adr	r3, .L105
 1574 01ae D3E90023 		ldrd	r2, [r3]
 1575 01b2 FFF7FEFF 		bl	__aeabi_dadd
 1576              	.LVL174:
 1577 01b6 FFF7FEFF 		bl	__aeabi_d2f
 1578              	.LVL175:
 1579 01ba C8F84C00 		str	r0, [r8, #76]	@ float
 1580              	.L100:
 285:Lib/Src/MotorControl.c **** 				else
 286:Lib/Src/MotorControl.c **** 					pXAxis->last -= STEP;
 287:Lib/Src/MotorControl.c **** 				moveGcode(pXAxis);
 1581              		.loc 1 287 5 is_stmt 1 view .LVU419
 1582 01be 4046     		mov	r0, r8
 1583 01c0 FFF7FEFF 		bl	moveGcode
 1584              	.LVL176:
 1585 01c4 AAE7     		b	.L95
 1586              	.L99:
 286:Lib/Src/MotorControl.c **** 				moveGcode(pXAxis);
 1587              		.loc 1 286 6 view .LVU420
 286:Lib/Src/MotorControl.c **** 				moveGcode(pXAxis);
 1588              		.loc 1 286 19 is_stmt 0 view .LVU421
 1589 01c6 D8F84C00 		ldr	r0, [r8, #76]	@ float
 1590 01ca FFF7FEFF 		bl	__aeabi_f2d
 1591              	.LVL177:
 1592 01ce 06A3     		adr	r3, .L105
 1593 01d0 D3E90023 		ldrd	r2, [r3]
 1594 01d4 FFF7FEFF 		bl	__aeabi_dsub
 1595              	.LVL178:
 1596 01d8 FFF7FEFF 		bl	__aeabi_d2f
 1597              	.LVL179:
 1598 01dc C8F84C00 		str	r0, [r8, #76]	@ float
 1599 01e0 EDE7     		b	.L100
 1600              	.L104:
 286:Lib/Src/MotorControl.c **** 				moveGcode(pXAxis);
 1601              		.loc 1 286 19 view .LVU422
 1602              	.LBE11:
 288:Lib/Src/MotorControl.c **** 			}
 289:Lib/Src/MotorControl.c **** 		}
 290:Lib/Src/MotorControl.c **** 	}
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 38


 291:Lib/Src/MotorControl.c **** }
 1603              		.loc 1 291 1 view .LVU423
 1604 01e2 05B0     		add	sp, sp, #20
 1605              	.LCFI11:
 1606              		.cfi_def_cfa_offset 36
 1607              		@ sp needed
 1608 01e4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1609              	.LVL180:
 1610              	.L106:
 1611              		.loc 1 291 1 view .LVU424
 1612              		.align	3
 1613              	.L105:
 1614 01e8 9A999999 		.word	-1717986918
 1615 01ec 9999A93F 		.word	1068079513
 1616              		.cfi_endproc
 1617              	.LFE76:
 1619              		.global	__aeabi_f2uiz
 1620              		.section	.text.runDrill,"ax",%progbits
 1621              		.align	1
 1622              		.global	runDrill
 1623              		.syntax unified
 1624              		.thumb
 1625              		.thumb_func
 1627              	runDrill:
 1628              	.LVL181:
 1629              	.LFB77:
 292:Lib/Src/MotorControl.c **** 
 293:Lib/Src/MotorControl.c **** void runDrill(DRILL *drill, float pwm)
 294:Lib/Src/MotorControl.c **** {
 1630              		.loc 1 294 1 is_stmt 1 view -0
 1631              		.cfi_startproc
 1632              		@ args = 0, pretend = 0, frame = 0
 1633              		@ frame_needed = 0, uses_anonymous_args = 0
 1634              		.loc 1 294 1 is_stmt 0 view .LVU426
 1635 0000 38B5     		push	{r3, r4, r5, lr}
 1636              	.LCFI12:
 1637              		.cfi_def_cfa_offset 16
 1638              		.cfi_offset 3, -16
 1639              		.cfi_offset 4, -12
 1640              		.cfi_offset 5, -8
 1641              		.cfi_offset 14, -4
 1642 0002 0446     		mov	r4, r0
 1643 0004 0D46     		mov	r5, r1
 295:Lib/Src/MotorControl.c **** 	if (pwm > 0)
 1644              		.loc 1 295 2 is_stmt 1 view .LVU427
 1645              		.loc 1 295 5 is_stmt 0 view .LVU428
 1646 0006 0021     		movs	r1, #0
 1647              	.LVL182:
 1648              		.loc 1 295 5 view .LVU429
 1649 0008 2846     		mov	r0, r5
 1650              	.LVL183:
 1651              		.loc 1 295 5 view .LVU430
 1652 000a FFF7FEFF 		bl	__aeabi_fcmpgt
 1653              	.LVL184:
 1654 000e 0028     		cmp	r0, #0
 1655 0010 32D0     		beq	.L129
 296:Lib/Src/MotorControl.c **** 	{
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 39


 297:Lib/Src/MotorControl.c **** 		__HAL_TIM_SetCompare(drill->htim_motor, drill->CHANNEL, 100 - pwm);
 1656              		.loc 1 297 3 is_stmt 1 view .LVU431
 1657 0012 6368     		ldr	r3, [r4, #4]
 1658 0014 73B9     		cbnz	r3, .L110
 1659              		.loc 1 297 3 is_stmt 0 discriminator 1 view .LVU432
 1660 0016 2946     		mov	r1, r5
 1661 0018 3F48     		ldr	r0, .L138
 1662 001a FFF7FEFF 		bl	__aeabi_fsub
 1663              	.LVL185:
 1664 001e 2368     		ldr	r3, [r4]
 1665 0020 1D68     		ldr	r5, [r3]
 1666              	.LVL186:
 1667              		.loc 1 297 3 discriminator 1 view .LVU433
 1668 0022 FFF7FEFF 		bl	__aeabi_f2uiz
 1669              	.LVL187:
 1670 0026 6863     		str	r0, [r5, #52]
 1671              	.L111:
 298:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1672              		.loc 1 298 3 is_stmt 1 view .LVU434
 1673 0028 0122     		movs	r2, #1
 1674 002a A189     		ldrh	r1, [r4, #12]
 1675 002c A068     		ldr	r0, [r4, #8]
 1676 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1677              	.LVL188:
 1678              	.L107:
 299:Lib/Src/MotorControl.c **** 	}
 300:Lib/Src/MotorControl.c **** 	else if (pwm == 0)
 301:Lib/Src/MotorControl.c **** 	{
 302:Lib/Src/MotorControl.c **** 		__HAL_TIM_SetCompare(drill->htim_motor, drill->CHANNEL, 0);
 303:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 304:Lib/Src/MotorControl.c **** 	}
 305:Lib/Src/MotorControl.c **** 	else if (pwm < 0)
 306:Lib/Src/MotorControl.c **** 	{
 307:Lib/Src/MotorControl.c **** 		pwm *= -1;
 308:Lib/Src/MotorControl.c **** 		__HAL_TIM_SetCompare(drill->htim_motor, drill->CHANNEL, pwm);
 309:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 310:Lib/Src/MotorControl.c **** 	}
 311:Lib/Src/MotorControl.c **** }
 1679              		.loc 1 311 1 is_stmt 0 view .LVU435
 1680 0032 38BD     		pop	{r3, r4, r5, pc}
 1681              	.LVL189:
 1682              	.L110:
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1683              		.loc 1 297 3 discriminator 2 view .LVU436
 1684 0034 042B     		cmp	r3, #4
 1685 0036 0BD0     		beq	.L132
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1686              		.loc 1 297 3 discriminator 4 view .LVU437
 1687 0038 082B     		cmp	r3, #8
 1688 003a 13D0     		beq	.L133
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1689              		.loc 1 297 3 discriminator 7 view .LVU438
 1690 003c 2946     		mov	r1, r5
 1691 003e 3648     		ldr	r0, .L138
 1692 0040 FFF7FEFF 		bl	__aeabi_fsub
 1693              	.LVL190:
 1694 0044 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 40


 1695 0046 1D68     		ldr	r5, [r3]
 1696              	.LVL191:
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1697              		.loc 1 297 3 discriminator 7 view .LVU439
 1698 0048 FFF7FEFF 		bl	__aeabi_f2uiz
 1699              	.LVL192:
 1700 004c 2864     		str	r0, [r5, #64]
 1701 004e EBE7     		b	.L111
 1702              	.LVL193:
 1703              	.L132:
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1704              		.loc 1 297 3 discriminator 3 view .LVU440
 1705 0050 2946     		mov	r1, r5
 1706 0052 3148     		ldr	r0, .L138
 1707 0054 FFF7FEFF 		bl	__aeabi_fsub
 1708              	.LVL194:
 1709 0058 2368     		ldr	r3, [r4]
 1710 005a 1D68     		ldr	r5, [r3]
 1711              	.LVL195:
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1712              		.loc 1 297 3 discriminator 3 view .LVU441
 1713 005c FFF7FEFF 		bl	__aeabi_f2uiz
 1714              	.LVL196:
 1715 0060 A863     		str	r0, [r5, #56]
 1716 0062 E1E7     		b	.L111
 1717              	.LVL197:
 1718              	.L133:
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1719              		.loc 1 297 3 discriminator 6 view .LVU442
 1720 0064 2946     		mov	r1, r5
 1721 0066 2C48     		ldr	r0, .L138
 1722 0068 FFF7FEFF 		bl	__aeabi_fsub
 1723              	.LVL198:
 1724 006c 2368     		ldr	r3, [r4]
 1725 006e 1D68     		ldr	r5, [r3]
 1726              	.LVL199:
 297:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_SET);
 1727              		.loc 1 297 3 discriminator 6 view .LVU443
 1728 0070 FFF7FEFF 		bl	__aeabi_f2uiz
 1729              	.LVL200:
 1730 0074 E863     		str	r0, [r5, #60]
 1731 0076 D7E7     		b	.L111
 1732              	.LVL201:
 1733              	.L129:
 300:Lib/Src/MotorControl.c **** 	{
 1734              		.loc 1 300 7 is_stmt 1 view .LVU444
 300:Lib/Src/MotorControl.c **** 	{
 1735              		.loc 1 300 10 is_stmt 0 view .LVU445
 1736 0078 0021     		movs	r1, #0
 1737 007a 2846     		mov	r0, r5
 1738 007c FFF7FEFF 		bl	__aeabi_fcmpeq
 1739              	.LVL202:
 1740 0080 F0B1     		cbz	r0, .L130
 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1741              		.loc 1 302 3 is_stmt 1 view .LVU446
 1742 0082 6368     		ldr	r3, [r4, #4]
 1743 0084 4BB9     		cbnz	r3, .L117
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 41


 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1744              		.loc 1 302 3 is_stmt 0 discriminator 1 view .LVU447
 1745 0086 2368     		ldr	r3, [r4]
 1746 0088 1B68     		ldr	r3, [r3]
 1747 008a 0022     		movs	r2, #0
 1748 008c 5A63     		str	r2, [r3, #52]
 1749              	.L118:
 303:Lib/Src/MotorControl.c **** 	}
 1750              		.loc 1 303 3 is_stmt 1 view .LVU448
 1751 008e 0022     		movs	r2, #0
 1752 0090 A189     		ldrh	r1, [r4, #12]
 1753 0092 A068     		ldr	r0, [r4, #8]
 1754 0094 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1755              	.LVL203:
 1756 0098 CBE7     		b	.L107
 1757              	.L117:
 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1758              		.loc 1 302 3 is_stmt 0 discriminator 2 view .LVU449
 1759 009a 042B     		cmp	r3, #4
 1760 009c 06D0     		beq	.L134
 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1761              		.loc 1 302 3 discriminator 4 view .LVU450
 1762 009e 082B     		cmp	r3, #8
 1763 00a0 09D0     		beq	.L135
 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1764              		.loc 1 302 3 discriminator 7 view .LVU451
 1765 00a2 2368     		ldr	r3, [r4]
 1766 00a4 1B68     		ldr	r3, [r3]
 1767 00a6 0022     		movs	r2, #0
 1768 00a8 1A64     		str	r2, [r3, #64]
 1769 00aa F0E7     		b	.L118
 1770              	.L134:
 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1771              		.loc 1 302 3 discriminator 3 view .LVU452
 1772 00ac 2368     		ldr	r3, [r4]
 1773 00ae 1B68     		ldr	r3, [r3]
 1774 00b0 0022     		movs	r2, #0
 1775 00b2 9A63     		str	r2, [r3, #56]
 1776 00b4 EBE7     		b	.L118
 1777              	.L135:
 302:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1778              		.loc 1 302 3 discriminator 6 view .LVU453
 1779 00b6 2368     		ldr	r3, [r4]
 1780 00b8 1B68     		ldr	r3, [r3]
 1781 00ba 0022     		movs	r2, #0
 1782 00bc DA63     		str	r2, [r3, #60]
 1783 00be E6E7     		b	.L118
 1784              	.L130:
 305:Lib/Src/MotorControl.c **** 	{
 1785              		.loc 1 305 7 is_stmt 1 view .LVU454
 305:Lib/Src/MotorControl.c **** 	{
 1786              		.loc 1 305 10 is_stmt 0 view .LVU455
 1787 00c0 0021     		movs	r1, #0
 1788 00c2 2846     		mov	r0, r5
 1789 00c4 FFF7FEFF 		bl	__aeabi_fcmplt
 1790              	.LVL204:
 1791 00c8 0028     		cmp	r0, #0
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 42


 1792 00ca B2D0     		beq	.L107
 307:Lib/Src/MotorControl.c **** 		__HAL_TIM_SetCompare(drill->htim_motor, drill->CHANNEL, pwm);
 1793              		.loc 1 307 3 is_stmt 1 view .LVU456
 307:Lib/Src/MotorControl.c **** 		__HAL_TIM_SetCompare(drill->htim_motor, drill->CHANNEL, pwm);
 1794              		.loc 1 307 7 is_stmt 0 view .LVU457
 1795 00cc 05F10040 		add	r0, r5, #-2147483648
 1796              	.LVL205:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1797              		.loc 1 308 3 is_stmt 1 view .LVU458
 1798 00d0 6368     		ldr	r3, [r4, #4]
 1799 00d2 53B9     		cbnz	r3, .L122
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1800              		.loc 1 308 3 is_stmt 0 discriminator 1 view .LVU459
 1801 00d4 2368     		ldr	r3, [r4]
 1802 00d6 1D68     		ldr	r5, [r3]
 1803 00d8 FFF7FEFF 		bl	__aeabi_f2uiz
 1804              	.LVL206:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1805              		.loc 1 308 3 discriminator 1 view .LVU460
 1806 00dc 6863     		str	r0, [r5, #52]
 1807              	.L123:
 309:Lib/Src/MotorControl.c **** 	}
 1808              		.loc 1 309 3 is_stmt 1 view .LVU461
 1809 00de 0022     		movs	r2, #0
 1810 00e0 A189     		ldrh	r1, [r4, #12]
 1811 00e2 A068     		ldr	r0, [r4, #8]
 1812 00e4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1813              	.LVL207:
 1814              		.loc 1 311 1 is_stmt 0 view .LVU462
 1815 00e8 A3E7     		b	.L107
 1816              	.LVL208:
 1817              	.L122:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1818              		.loc 1 308 3 discriminator 2 view .LVU463
 1819 00ea 042B     		cmp	r3, #4
 1820 00ec 07D0     		beq	.L136
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1821              		.loc 1 308 3 discriminator 4 view .LVU464
 1822 00ee 082B     		cmp	r3, #8
 1823 00f0 0BD0     		beq	.L137
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1824              		.loc 1 308 3 discriminator 7 view .LVU465
 1825 00f2 2368     		ldr	r3, [r4]
 1826 00f4 1D68     		ldr	r5, [r3]
 1827 00f6 FFF7FEFF 		bl	__aeabi_f2uiz
 1828              	.LVL209:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1829              		.loc 1 308 3 discriminator 7 view .LVU466
 1830 00fa 2864     		str	r0, [r5, #64]
 1831 00fc EFE7     		b	.L123
 1832              	.LVL210:
 1833              	.L136:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1834              		.loc 1 308 3 discriminator 3 view .LVU467
 1835 00fe 2368     		ldr	r3, [r4]
 1836 0100 1D68     		ldr	r5, [r3]
 1837 0102 FFF7FEFF 		bl	__aeabi_f2uiz
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 43


 1838              	.LVL211:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1839              		.loc 1 308 3 discriminator 3 view .LVU468
 1840 0106 A863     		str	r0, [r5, #56]
 1841 0108 E9E7     		b	.L123
 1842              	.LVL212:
 1843              	.L137:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1844              		.loc 1 308 3 discriminator 6 view .LVU469
 1845 010a 2368     		ldr	r3, [r4]
 1846 010c 1D68     		ldr	r5, [r3]
 1847 010e FFF7FEFF 		bl	__aeabi_f2uiz
 1848              	.LVL213:
 308:Lib/Src/MotorControl.c **** 		HAL_GPIO_WritePin(drill->GPIO_DIR, drill->PIN_DIR, GPIO_PIN_RESET);
 1849              		.loc 1 308 3 discriminator 6 view .LVU470
 1850 0112 E863     		str	r0, [r5, #60]
 1851 0114 E3E7     		b	.L123
 1852              	.L139:
 1853 0116 00BF     		.align	2
 1854              	.L138:
 1855 0118 0000C842 		.word	1120403456
 1856              		.cfi_endproc
 1857              	.LFE77:
 1859              		.text
 1860              	.Letext0:
 1861              		.file 2 "e:\\project\\program\\vscode\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\inclu
 1862              		.file 3 "e:\\project\\program\\vscode\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\inclu
 1863              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1864              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1865              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1866              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1867              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 1868              		.file 9 "Lib/Inc/MyStruct.h"
 1869              		.file 10 "e:\\project\\program\\vscode\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\incl
 1870              		.file 11 "Lib/Inc/MyMath.h"
 1871              		.file 12 "e:\\project\\program\\vscode\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\incl
 1872              		.file 13 "<built-in>"
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 44


DEFINED SYMBOLS
                            *ABS*:00000000 MotorControl.c
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:18     .rodata.ProcessData.str1.4:00000000 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:43     .text.ProcessData:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:49     .text.ProcessData:00000000 ProcessData
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:77     .text.ProcessData:00000014 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:458    .text.ProcessData:000001dc $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:477    .text.PWM:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:483    .text.PWM:00000000 PWM
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:729    .text.PWM:00000110 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:735    .text.readEncoder:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:741    .text.readEncoder:00000000 readEncoder
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:768    .text.sample:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:774    .text.sample:00000000 sample
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:821    .text.PID_control:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:827    .text.PID_control:00000000 PID_control
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:961    .text.PID_control:000000b0 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:967    .text.HOME:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:973    .text.HOME:00000000 HOME
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1031   .text.HOME:00000034 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1036   .text.move:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1042   .text.move:00000000 move
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1137   .text.moveGcode:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1143   .text.moveGcode:00000000 moveGcode
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1245   .text.drawLine:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1251   .text.drawLine:00000000 drawLine
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1614   .text.drawLine:000001e8 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1621   .text.runDrill:00000000 $t
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1627   .text.runDrill:00000000 runDrill
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:1855   .text.runDrill:00000118 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:92     .text.ProcessData:00000023 $d
C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s:92     .text.ProcessData:00000024 $t

UNDEFINED SYMBOLS
strlen
sscanf
memset
__aeabi_fcmpgt
__aeabi_fcmpeq
__aeabi_fcmplt
__aeabi_fmul
__aeabi_f2iz
HAL_GPIO_WritePin
__aeabi_i2d
__aeabi_dmul
__aeabi_f2d
__aeabi_dadd
__aeabi_d2f
__aeabi_i2f
__aeabi_fadd
__aeabi_ddiv
int_abs
HAL_GPIO_ReadPin
__aeabi_fsub
__aeabi_d2iz
__aeabi_dsub
__aeabi_dcmplt
ARM GAS  C:\Users\Chicken\AppData\Local\Temp\ccS8EQWV.s 			page 45


round
int_max
int_min
__aeabi_f2uiz
